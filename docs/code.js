// Copyright Steven Vercruysse (@stcruy)
"use strict";function addvsm(l,v,T,Y){document.write('<div class="vsmPanel vsmph'+(Y?" "+Y:"")+'" id="vsmph'+ ++St+'"'+(T?' style="min-height:'+(80+19*(T-2))+'px"':"")+"></div>");var k=H("vsmph"+St);h(k,function(){setTimeout(function(){addClass(k,"vsmphVis");var panel=it("panel",Wt);k.appendChild(panel);var h=it("vsmPanelCont",Wt);panel.appendChild(h),n(h,It,l,v),removeClass(k,"vsmPanel"),k=0},_t)})}function h(h,n){function l(){var rect=h.getBoundingClientRect();rect.bottom>=0&&rect.right>=0&&rect.top<=(window.innerHeight||document.documentElement.clientHeight)&&rect.left<=(window.innerWidth||document.documentElement.clientWidth)&&(n(h),I(window,"DOMContentLoaded",l),I(window,"load",l),I(window,"scroll",l),I(window,"resize",l))}U(window,"DOMContentLoaded",l),U(window,"load",l),U(window,"scroll",l),U(window,"resize",l)}function hdec(s){var e=document.createElement("div");return e.innerHTML=s,0===e.childNodes.length?"":e.childNodes[0].nodeValue}function n(h,n,l,v){var T,e;T=n.h(l,v).join("\n"),T+=n.j(T),h.appendChild(e=it("vsmPanel",Wt));var Y=new Lt(e,n,T.replace(/\|/g,"\t"));Y.k="#FBFBFB",Y.l()}function l(data,h,n,l){this.data=data,this.n=h,this.v=8;var v=1,T=9;this.A=n,this.B=l,this.h=function(h,n){function l(h){return Math.floor(h/1e6)+1}function Y(h){for(var m=1e6*(h-1),i=0;i<a.length;i++)l(a[i][0])==h&&(m=Math.max(m,a[i][0]));if(h==v)for(i=0;i<b.length;i++)m=Math.max(m,b[i][1]);return m}function k(h){var n=t.G([h]);return n.length?n[0]:t.G([T])[0]}function H(id,c){return"U"==id?id:id%1e9+(0===c?0:1==c?1e9:2e9)}var i,L,U,I,e,d,_,w,dd,fd,A,t=this,a=this.data,b=this.n,P=h;for(i=0;i<P.length;i++){for(I=function(s){var i,b,h={},x=s.split("|");for(h.name=x[0],i=1;i<x.length;i++)b=x[i].split(":"),h[b[0]]=b.length>1?b[1]:1;return h}(h[i]),I.c&&(I.c=H(I.c,1)),e=0,w=I.w?I.w.split(","):["","",""],dd=I.dd?I.dd:"",fd=I.fd?I.fd.split(","):[],L=0;L<fd.length;L++)A=fd[L].split("_"),fd[L]=H(A[0],1)+"_"+H(A[A.length-1],0);if(fd=fd.join(","),I.name){if(!I.R||I.c){for(L=0;L<a.length;L++)if(I.name==a[L][1]&&(!I.c||I.c==a[L][3])){e=a[L];break}e?I.R&&(e=e.slice(),e[3]="R"+H(I.R,2)+","+e[3]):(e=[],_=I.d?I.d:8,d=k(_),e[1]=I.name,e[2]=I.s?I.s:"",e[4]=I.x||"",e[5]=d.H,e[6]=d.I,e[7]=d.J,e[0]=I.t?H(I.t,0):I.c?H(I.c,0):Y(_)+1,e[3]=(I.R?"R"+H(I.R,2)+",":"")+(I.c?H(I.c,1):e[0]+1e9),I.R||this.data.push(e))}else{for(d=k(v),L=0;L<b.length&&b[L][0]!=I.name;L++);L==b.length&&b.push([I.name,Y(v)+1]),e=[],e[0]=b[L][1],e[1]=I.name,e[2]=I.s?I.s:"",e[4]="",e[5]=d.H,e[6]=d.I,e[7]=d.J,e[3]="R"+H(1==I.R?"U":I.R)}h[i]=[I.C||I.D?"-":I.i?H(I.i):"U",I.D?"-":e[3],I.t||e[0],I.F?"F":"",e[5],e[1],e[2],w[0],w[1],w[2],dd,fd,I.x||e[4]].join("|")}else h[i]=["E",I.F?"F":"",w[0],w[1],w[2],dd,fd].join("|")}for(this.K(),i=0,U=n.length;i<U;i++)n[i]=n[i].join("|").replace(/\-1/g,"_");return P.length||P.push(""),P.push(""),P=P.concat(n.length?n:[""])},this.L=function(){for(var e,f,i=0,a=this.data,h=a.length;i<h;i++)(e=a[i]).length<=2&&(e[2]=""),e.length<=3&&(e[3]=e[0]+1e9),e.length<=4&&(e[4]=""),e[5]=Math.ceil((e[3]-1e9)/1e6),f=this.G([e[5]])[0]||T,e[6]=f.I,e[7]=f.J;for(this.K(),i=0,a=this.data,h=a.length;i<h;i++)e=a[i],this.O(e[3],e[0],e[1],e[2],e[4],e[5]);for(i=0,a=this.A,h=a.length;i<h;i++)e=a[i],this.P(e[0],e[1],e[2]);for(this.Q=this.G([1])[0],i=0,a=this.B,h=a.length;i<h;i++)a[i].T=new Et(a[i].id+"\t"+a[i].name+"\n"+a[i].T.replace(/\|/g,"\t")+this.U(a[i].T),this)},this.K=function(){this.data.sort(function(a,b){var c=a[5]-b[5];if(c)return c;var x=a[1].toLowerCase(),y=b[1].toLowerCase();return x.localeCompare?x.localeCompare(y):x==y?0:x>y})},this.V=function(s){var u,w,x,y,z,ids=[],h=s.split("\n\n")[0].split("\n");for(x=0;x<h.length;x++){if(y=h[x].split("|"),""!=(z=y[6]))for(z=z.split(","),w=0;w<z.length;w++)u=z[w].split("_")[1],inArray(u,ids)||ids.push(u);y.length>=9&&!inArray(y[8],ids)&&ids.push(y[8])}return ids},this.U=function(s){for(var id,ids=this.V(s),h=0;h<ids.length;h++){for(var e,id=ids[h],n=0;n<this.data.length&&this.data[n][0]!=id;n++);e=this.data[n],ids[h]=[e[3],e[0],e[1],"","",e[5]].join("|")}for(var e,h=0,l=[];h<this.A.length;h++)l[h]=this.A[h].join("\t");return"\n\n"+ids.join("\n")+"\n\n"+l.join("\n")},this.X=function(s){var b,i,x,h=[],n=[],a=s.split("\n\n")[0].split("\n");for(i=0;i<a.length;i++)if(b=a[i].split("|"),"E"!=b[0])x=b[2],x&&"U"!=x&&!inArray(x,h)&&h.push(x),(x=b[4])&&!inArray(x,n)&&n.push(x);else{var w,u,z=b[6];if(""!=z)for(z=z.split(","),w=0;w<z.length;w++)u=z[w].split("_")[1],inArray(u,h)||h.push(u);x=b[5],x&&!inArray(x,n)&&n.push(x)}return{Y:h,Z:n}},this.j=function(s){for(var h=this.X(s).Z,i=0;i<h.length;i++){for(var e,n=0;n<this.A.length&&this.A[n][0]!=h[i];n++);e=this.A[n],e||(e=this.G([T])[0],e=[h[i],e.I,e.J]),h[i]=[e[0],e[1],e[2]].join("|")}return"\n\n"+h.join("\n")},this.$=function(){for(var i=0,a=this.B,h=a.length,n=[];i<h;i++)n.push({id:a[i].id,name:a[i].name});return n},this._=function(a){var i,id,h,e,n=a.length,d=this.B,m=d.length,l=[];for(i=0;i<n;i++)for(id=a[i],h=0;h<m;h++)d[h].id!=id||l.push({id:(e=d[h]).id,name:e.name,T:e.T});return l},this.aa=function(id){return this._([id])[0].T},this.ba=function(a){var id=a[0],name=a[1],h="object"==At(a[2])?a[2].join("\n"):a[2];h=(id+"|"+name+"\n"+h+this.U(h).replace(/\t/g,"|")).replace(/\|/g,"\t"),this.B.push({id:id,name:name,T:new Et(h,this)})},this.G=function(a){var i,h,n,l=a.length,d=this.A,m=d.length,v=[];for(i=0;i<l;i++)for(h=a[i],n=0;n<m;n++)d[n][0]!=h||v.push({H:h,I:d[n][1],J:d[n][2]});return v},this.ca=function(a){var i,h,n,l,e,v=a.length,d=this.data,m=d.length,T=[];for(i=0;i<v;i++)for(h=a[i].da,n=a[i].ea,l=0;l<m;l++)d[l][3]!=h||(e=d[l])[0]!=n||T.push({da:h,ea:n,fa:e[1],ga:e[2],ha:e[4],H:e[5]});return T},this.ia=function(h){for(var n,l=T,d=(this.G([l])||["",""])[0],i=0,a=this.data,v=1e6*(T-1);i<a.length;i++)Math.floor(a[i][0]/1e6)+1==T&&(v=Math.max(v,a[i][0]));return v++,n=""+(1e9+v),a.push([v,h,"",n,"",T,d.I,d.J]),"\t"+l+"\t"+d.I+"\t"+d.J+"\t"+n+"_"+v},this.ja=function(){return this.n},this.ka=function(e){return e[3]+"_"+e[0]+"\t"+e[1]+"\t"+e[2]+"\t"+e[4]+"\t"+e[5]+"\t"+e[6]+"\t"+e[7]},this.la=function(h){var i,n,b,l,v,T=h.length,d=this.data,m=d.length,a=[];for(i=0;i<T;i++)for(b=h[i].split("_"),l=parseInt(b[0]),v=parseInt(b[1]),n=0;n<m;n++)d[n][3]==l&&d[n][0]==v&&a.push([d[n][1].toLowerCase(),this.ka(d[n])]);return a},this.createReqObj=function(){var t=this;return new function(){this.readyState=4,this.status=200,this.responseText="",this.ma="",this.abort=function(){},this.open=function(method,url,async){this.ma=url,this.responseText=""},this.send=function(){var e,i,x,d=t.data,h=d.length,r=decodeURIComponent(this.ma).match(/\/qT\/\?(?:d=(.*)\&)?s=(.+)/),b=r&&r[1]&&"-"!=r[1]?r[1].split(","):"",s=(r?r[2]:"").toLowerCase(),m=s.length,f=t.ka,a=[],c=0;if(""!=s){for(i=0;i<h&&c<t.v;i++)e=d[i],""!=b&&!inArray(e[5],b)||e[1].substr(0,m).toLowerCase()!=s||(a[c++]=f(e));for(i=0;i<h&&c<t.v;i++)e=d[i],""!=b&&!inArray(e[5],b)||(x=e[1]).substr(0,m).toLowerCase()==s||-1==x.toLowerCase().indexOf(s)||(a[c++]=f(e));if(""!=b){for(i=0;i<h&&c<t.v;i++)inArray((e=d[i])[5],b)||e[1].substr(0,m).toLowerCase()!=s||(a[c++]=f(e));for(i=0;i<h&&c<t.v;i++)inArray((e=d[i])[5],b)||(x=e[1]).substr(0,m).toLowerCase()==s||-1==x.toLowerCase().indexOf(s)||(a[c++]=f(e))}}this.responseText=a.join("\n"),this.onreadystatechange()}}},this.na=[],this.oa=[],this.O=function(h,n,l,v,T,Y){for(var i=this.na.length-1;i>=0&&(this.na[i].da!=h||this.na[i].ea!=n);i--);i<0&&this.na.push({da:h,ea:n,fa:l,ga:v,ha:T,H:Y})},this.P=function(h,n,l){for(var i=this.oa.length-1;i>=0&&this.oa[i].H!=h;i--);i<0&&this.oa.push({H:h,I:n,J:l})},this.pa=function(h,n){for(var i=0,a=this.na,l=a.length;i<l;i++)if(a[i].da==h&&a[i].ea==n)return a[i];return!1},this.qa=function(h){for(var i=0,a=this.oa,n=a.length;i<n;i++)if(a[i].H==h)return a[i];return!1},this.L()}function D(){for(var i=0,h=arguments.length;i<h;i++)H("x").innerHTML+=arguments[i]+(i<h-1?",":"; ")}function v(){for(var i=0,h=arguments.length;i<h;i++)H("x").innerHTML+=arguments[i]+(i<h-1?",":"<br>");0==h&&(H("x").innerHTML+="<br>")}function T(h){for(var i=0,s="",c="abcdefghijklmnopqrstuvwxyz123456789";i<h;i++)s+=c.substr(Math.floor(Math.random()*(i>0&&Math.random()<0?35:26)),1);return s}function Y(min,max){return Math.floor(Math.random()*(max-min+1))+min}function inArray(e,a){for(var i=0,h=a.length;i<h;i++)if(a[i]==e)return!0;return!1}function k(e,a){for(var i=0,h=a.length;i<h;i++)if(a[i]===e)return!0;return!1}function H(s){return document.getElementById(s)}function L(x){return document.createElement(x)}function U(h,n,l){h.addEventListener?h.addEventListener(n,l,!1):h.attachEvent&&h.attachEvent("on"+n,l)}function I(h,n,l){h.removeEventListener?h.removeEventListener(n,l,!1):h.detachEvent&&h.detachEvent("on"+n,l)}function _(e,f,h){U(e,"input",f),jt&&(U(e,"cut",f),U(e,"paste",f),U(e,"keyup",function(e){e=e||window.event;var n=e.keyCode;13==n&&!1!==h||16<=n&&n<=20||91<=n&&n<=93||33==n||34==n||9==n||27==n||112<=n&&n<=123||35<=n&&n<=39||f()}))}function A(e,h){return e=e||window.event,e.stopPropagation&&e.stopPropagation(),!1!==h&&e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1}function P(e){return e=e||window.event,isNaN(window.scrollX)?new Yt(e.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,e.clientY+document.documentElement.scrollTop+document.body.scrollTop):new Yt(e.clientX+window.scrollX,e.clientY+window.scrollY)}function j(e,h){return window.getComputedStyle?document.defaultView.getComputedStyle(e,null).getPropertyValue(h):e.currentStyle?e.currentStyle[h]:void 0}function X(e,h){return parseFloat(j(e,h))}function B(e){return X(e,"width")+X(e,"padding-left")+X(e,"padding-right")+X(e,"border-left-width")+X(e,"border-right-width")}function J(e){return X(e,"height")+X(e,"padding-top")+X(e,"padding-bottom")+X(e,"border-top-width")+X(e,"border-bottom-width")}function V(className){var i,h,m,classes,n=document.styleSheets;for(i=n.length-1;i>=0;i--){try{classes=n[i].rules||n[i].cssRules}catch(h){if("SecurityError"!==h.name)throw h}if(!classes)return{style:{paddingLeft:0}};for(h=0,m=classes.length;h<m;h++)if(classes[h].selectorText==className)return classes[h]}return null}function Z(e,h){var x=X(e,h+"-top");if(isNaN(x)){var i,a=j(e,h).split(" ");for(1==a.length&&(a[1]=a[0]),2==a.length&&(a[2]=a[0]),3==a.length&&(a[3]=a[1]),i=0;i<4;i++)a[i]=parseFloat(a[i]);return a}return[x,X(e,h+"-right"),X(e,h+"-bottom"),X(e,h+"-left")]}function $(h,percent){h=h.replace(/^\s*#|\s*$/g,""),3==h.length&&(h=h.replace(/(.)/g,"$1$1"));var r=parseInt(h.substr(0,2),16),g=parseInt(h.substr(2,2),16),b=parseInt(h.substr(4,2),16);return"#"+(0|256+r+(256-r)*percent/100).toString(16).substr(1)+(0|256+g+(256-g)*percent/100).toString(16).substr(1)+(0|256+b+(256-b)*percent/100).toString(16).substr(1)}function K(e,from,to){if(void 0!==e.selectionStart)e.selectionStart=from,e.selectionEnd=to;else{var r=e.createTextRange(),a="character";r.moveStart(a,from),r.collapse(),r.moveEnd(a,to),r.select()}}function O(e,pos){void 0===pos&&(pos=e.value.length),K(e,pos,pos)}function G(e){e.setAttribute("style",Vt.replace(/;/g,":none;")),e.onselectstart=function(){return!1},e.setAttribute("unselectable","on")}function Q(t,c,i){var e=L(t);return void 0===i&&(i=""),e.className=c,e.id=c+i,e}function it(c,i){return Q("div",c,i)}function st(c){var e=L("div");return e.className=c,e}function ht(c,i){var e=Q("input",c,i);return e.spellcheck=!1,e.maxlength=2048,e}function et(e,c){e.className=c}function nt(e){return e.className}function hasClass(e,c){return new RegExp("(\\s|^)"+c+"(\\s|$)").test(e.className)}function addClass(e,c){hasClass(e,c)||(e.className+=(e.className?" ":"")+c)}function removeClass(e,c){hasClass(e,c)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+c+"(\\s|$)","g")," ").replace(/^\s+|\s+$/g,""))}function ot(h,n){for(;(h=h.parentElement)&&!inArray(n,h.className.split(" ")););return h}function ft(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function ct(c){return"&"==c?"&amp;":"<"==c?"&lt;":">"==c?"&gt;":'"'==c?"&quot;":"'"==c?"&#039;":c}function ut(name,value,h){var date=new Date;date.setTime(date.getTime()+864e5*h),document.cookie=name+"="+escape(value)+(h?"; expires="+date.toUTCString():"")}function vt(name){var i,p,a=document.cookie.split(";");for(i=0;i<a.length;i++)if(a[i].substr(0,p=a[i].indexOf("=")).replace(/^\s+|\s+$/g,"")==name)return unescape(a[i].substr(p+1));return!1}function mt(name){ut(name,"",-1)}function yt(){var h=!1;try{h=new XMLHttpRequest}catch(n){try{h=new ActiveXObject("Msxml2.XMLHTTP")}catch(n){try{h=new ActiveXObject("Microsoft.XMLHTTP")}catch(h){}}}return h}function wt(s){var e=H("ttTestWH");return e.innerHTML=s,e.clientWidth}function xt(s,style,maxWidth,ellipsis){function h(){c=s.split(""),v=[];for(var i=0,h=c.length;i<=h;i++)v[i]="";x=1}function n(h){for(var i=0,s="",n=c.length;i<=h;i++)s+=v[i]+c[i];for(;i<=n;i++)s+=v[i];return s}function l(){for(var i=0,h=c.length;i<h;i++)c[i]=ct(c[i])}var c,v,t,x=0;if(""==style)t=ft(s);else{var T=function(p,t){v[p]+="<"+t+' style="pointer-events:none">'},Y=function(p,t){v[p]="</"+t+">"+v[p]};h();var i,m,u,r,k,p,a,b;for(i=1,u=[];i<style.length;i++)(r=style.charAt(i))>="a"&&r<="z"&&(u.push(style.substr(0,i)),style=style.substr(i),i=0);for(u.push(style),i=0,m=u.length;i<m;i++){if(k=u[i],r=k.charAt(0),k=k.substr(1),"i"==r||"b"==r);else if("s"==r)r="sub";else{if("u"!=r)continue;r="sup"}if(""==k)v[0]="<"+r+">"+v[0],v[c.length]+="</"+r+">";else{if(p=k.indexOf("-"),-1==p?a=b=parseInt(k):(a=parseInt(k.substr(0,p)),b=parseInt(k.substr(p+1)),a>b&&(k=a,a=b,b=k),a<0&&(a=0)),a>=c.length)continue;for(b>=c.length&&(b=c.length-1),T(a,r),a++;a<=b;a++)""!=v[a]&&(Y(a,r),T(a,r));Y(b+1,r)}}l(),t=n(c.length-1)}if(maxWidth){var w=wt(t);if(w<=maxWidth||1==s.length)return t;0==x&&(h(),l());for(var ellipsis=ellipsis||"&hellip;",first=0,H=c.length-1,mid=0;first<H;)if(mid=Math.floor((first+H)/2),w=wt(t=n(mid)+ellipsis),maxWidth<w)H=mid;else{if(!(maxWidth>w))break;first=mid+1}w>maxWidth&&mid>0&&(t=n(mid-1)+ellipsis)}return t}function Tt(){this.ra,this.sa,this.ta,this.va,this.wa=150,this.xa=!1,this.ya=!1,this.za=!0,this.Aa=!0,this.Ba=!1,this.Ca=!0,this.Da,this.Ea="",this.Fa=!1,this.Ga=!1,this.Ha=!1,this.Ia=1e3,this.Ia=0,this.Ja=!1,this.Ka=function(s){},this.La=function(s){},this.Ma=function(b){},this.Na=function(h,n){},this.Oa=function(){return null},this.Pa=function(id,h,style,n){},this.Qa=function(){},this.Ra=function(b){},this.Sa=function(x){},this.Ta=function(b){},this.Ua=function(e){return!0},this.src,this.out,this.prev="",this.Va=!1,this.items=[],this.Wa=-1,this.Xa=-1,this.Ya=null,this.Za=null,this.$a=!1,this._a="",this.ab=0,this.bb=-1,this.cb,this.db,this.eb=!0,this.cache=[],this.fb=[],this.q=!1,this.gb=!1,this.hb=!0,this.ib=!1,this.jb=!0,this.kb=!1,this.enabled=!1,this.lb=function(){null===this.Ya&&(this.Ya=yt()),this.Ya.mb=this,this.Ca||(this.Ba=!0),this.Da=this.Ca?-1:0;var src=this.src=this.src?this.src:H(this.ra),out=this.out=this.out?this.out:H(this.sa),f=function(){this.mb.src.focus()};src.mb=this,src.onkeydown=function(e){return this.mb.nb(e)},src.oninput=function(){return this.mb.ob()},this.ya&&(src.onmousedown=function(){this.mb.pb()},this.Fa&&(src.onmouseup=function(){0==this.mb.qb().length&&this.mb.sb(0,this.value.length)})),out.mb=this,out.onmouseover=function(){this.mb.hb=!1},out.onmouseout=function(){this.mb.hb=!0,this.mb.src.focus()},out.onmousedown=out.onmouseup=f,this.src.onfocus=function(){this.mb.ub()},this.src.onblur=function(){this.mb.vb()};var f=function(){return src.mb.wb(),!1};window.addEventListener?window.addEventListener("blur",f,!1):window.attachEvent("onblur",f),this.xb("",!1),this.yb(),this.enable()},this.zb=function(){return hasClass(this.src,this.va)},this.yb=function(){var e=this.src,h=this.zb();this.ib||!this.jb||""!=e.value&&!h?h&&(this.Ab(""),removeClass(e,this.va)):(addClass(e,this.va),this.Ab(this.Ea))},this.Ab=function(s){Pt?(this.xb(s,!1),this.prev=""):this.src.placeholder=s},this.Bb=function(s){this.Ea=s,this.yb()},this.Cb=function(b){this.jb=b,this.yb()},this.Db=function(){return""==this.src.value||this.zb()},this.pb=function(){this.ib=!0,this.yb(),this.Va||this.Eb(1);var t=this;setTimeout(function(){t.Fb()},5)},this.Gb=function(delay){var t=this;setTimeout(function(){t.pb()},delay||20)},this.xb=function(s,h){this.Hb(s,h);var t=this;setTimeout(function(){t.Hb(s,h)},10)},this.Hb=function(s,h){this.src.value=s,h&&""!=s&&this.sb(s.length,s.length)},this.enable=function(){this.prev=this.Ib(),this.enabled=!0},this.disable=function(){this.enabled=this.eb=!1,this.wb()},this.ub=function(){this.ib=!0,this.Ra(!0),this.yb(),this.Va||!this.$a||""!=this.prev||this.kb||this.Jb(this.prev)},this.vb=function(){this.hb&&(this.ib=!1,this.yb(),this.wb(),this.Ra(!1))},this.show=function(b){var a=this.Va,b=this.Va=1==b&&this.items.length>0;this.out.style.display=b?"block":"none",!a&&b&&-1!=this.Wa&&this.Aa&&this.Kb(!0),a&&!b&&(this.hb=!0),a!=b&&this.Sa(b?2:3)},this.wb=function(){this.cancelReq(),this.Va&&(this.Aa&&this.Lb(this.prev,!1),this.eb||this.empty()),this.show(0)},this.cancelReq=function(){null!==this.Za&&clearTimeout(this.Za),this.q&&(this.Ya.abort(),this.Ma(this.q=!1))},this.empty=function(){this.items=[],this.Mb()},this.Nb=function(e,h){return e||(e=window.event),h||(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0),1==h},this.Ob=[["α","alpha"],["β","beta"],["γ","gamma"],["δ","delta"],["ε","epsilon"],["ζ","zeta"],["η","eta"],["θ","theta"],["ι","iota"],["κ","kappa"],["λ","lambda"],["μ","mu"],["ν","nu"],["ξ","xi"],["ο","omicron"],["π","pi"],["ρ","rho"],["σ","sigma"],["ς","sigmaf"],["τ","tau"],["υ","upsilon"],["φ","phi"],["χ","chi"],["ψ","psi"],["ω","omega"],["ϑ","thetasym"],["ϒ","upsih"],["ϖ","piv"],["Α","Alpha"],["Β","Beta"],["Γ","Gamma"],["Δ","Delta"],["Ε","Epsilon"],["Ζ","Zeta"],["Η","Eta"],["Θ","Theta"],["Ι","Iota"],["Κ","Kappa"],["Λ","Lambda"],["Μ","Mu"],["Ν","Nu"],["Ξ","Xi"],["Ο","Omicron"],["Π","Pi"],["Ρ","Rho"],["Σ","Sigma"],["Τ","Tau"],["Υ","Upsilon"],["Φ","Phi"],["Χ","Chi"],["Ψ","Psi"],["Ω","Omega"]],this.Pb=function(){for(var i=0,s=o=this.Ib(),a=this.Ob,h=a.length;i<h;i++)s=s.replace(new RegExp("[\\\\|/]"+a[i][1],"g"),a[i][0]);s!=o&&(this.Lb(s),this.Jb(s),this.Sa(0))},this.nb=function(e){if(this.enabled){e||(e=window.event);var h,n=1,c=1;switch(h=e.keyCode){case 8:""==this.src.value&&(this.Va?this.wb():this.Qa());case 46:this.gb=!0;break;case 13:e.ctrlKey?this.Pb():this.select(this.Wa),n=0;break;case 38:this.Eb(-1),n=0;break;case 40:this.Eb(1),n=0;break;case 9:this.Ua(e)||(n=0);break;case 27:var b=this.Va,t=this;b&&(n=0),this.wb(),this.kb=!0,this.src.blur(),this.Fb(),setTimeout(function(){t.Ta(b)},20);break;default:(h<=20&&h>=16||h>=91&&h<=93||33==h||34==h||45==h||9==h||h>=112&&h<=123||h<=39&&h>=35&&!this.Aa)&&(c=0)}return 1==n&&1==c&&this.Qb(),this.Nb(e,n)}},this.Qb=function(){var t=this;setTimeout(function(){t.ob()},20)},this.ob=function(){if(this.enabled){var s=this.Ib();return s==this.prev||this.kb||(this.Jb(s),this.Sa(0)),!0}},this.Jb=function(s){this.cancelReq(),this.prev=s;var h=s.length>0;if(this.cb=this.$a,this.db=!0,this.Va?(this.Ba&&0==this.Wa||this.highlight(-1),this.eb=!1):this.empty(),h||this.cb)for(var e,c=this.cache,i=c.length-1;i>=0;i--)if((e=c[i]).s==s){var t=this,n=this.cache[i].items;return void setTimeout(function(){t.Rb(n)},10)}if(h)for(c=this.fb,i=c.length-1;i>=0;i--)if(s.substr(0,(e=c[i]).s.length)==e.s){if(this.cb=e.cb,this.db=e.db,!(this.cb||this.db||this.Ga||this.Ha))return void this.empty();break}if(!h)return this.db=!1,this.cb&&(this.La(s),this.ab>0)?void this.Sb():void this.empty();if(this.cb&&(this.La(s),this.ab>=this.bb&&this.bb>=0))return this.db=!1,void this.Sb();if(this.db){var t=this;this.Za=setTimeout(function(){t.Tb()},this.wa)}else this.Sb()},this.Rb=function(h){this.items=h,this.Mb()},this.Tb=function(){this.Za=null,this.Ya.abort(),this.Ya.open("GET",this.Ka(encodeURIComponent(this.prev)),!0);var t=this;this.Ya.onreadystatechange=function(){t.Ub()},this.Ma(this.q=!0),this.Ya.send()},this.Ub=function(){try{4==this.Ya.readyState&&200==this.Ya.status&&this.Sb()}catch(h){}},this.Sb=function(){var a,c,e,h,n=this.cb,l=this.db,s=l?this.Ya.responseText:"";n&&this._a.length>0&&(s=this._a+(s.length>0?"\n"+s:"")),a=this.items=this.Vb(s),h=a.length-(this.Ga&&""!=this.prev?1:0),a.length>0&&(c=this.cache,c.push({s:this.prev,items:a}),c.length>this.Ia&&c.shift()),n&&l&&0==this.ab?e={cb:!1,db:h>0}:n&&l&&h==this.ab?e={cb:h>0,db:!1}:!n&&l&&0==h?e={cb:!1,db:!1}:n&&!l&&0==h&&(e={cb:!1,db:!1}),e&&(c=this.fb,e.s=this.prev,c.push(e),c.length>this.Ia&&c.shift()),this.Mb(),this.Ma(this.q=!1)},this.Vb=function(h){var e,n=[];if(""!=h)for(var i=0,l=h.split("\n"),v=l.length,ids=[],c=0,m=this.bb<0?v:this.bb;i<v&&c<m;i++)if(null!==(e=this.Na(l[i],this.prev))){if(this.cb&&c<this.ab)e.type=c<this.ab-1&&!e.type?1:2,ids[c]=e.id;else if(inArray(e.id,ids))continue;n[c++]=e}return this.Ga&&""!=this.prev&&null!==(e=this.Oa())&&(e.type=3,n.push(e)),n},this.Mb=function(){for(var e,type,out=this.out,a=this.items,h=a.length,n=this.Ga&&""!=this.prev;out.childNodes.length>0;)out.removeChild(out.lastChild);for(var i=0;i<h;i++){if(type=a[i].type,type||(type=0),0!=i&&3!=type||out.appendChild(this.Wb()),e=a[i].Xb,e.setAttribute("name",""+i),G(e),et(e,this.ta+(0==type?"":3==type?"LL":1==type?"FF":"FFz")),this.Yb(e,0==i&&this.Ba?"H":""),e.mb=this,this.xa)e.onmousemove=function(){this.mb.highlight(parseInt(this.getAttribute("name")))};else{var f=function(e,over){var a=e.mb,i=parseInt(e.getAttribute("name"));i!=a.Wa?(a.Yb(e,over?"M":""),a.Xa=over?i:-1):a.Xa=-1};e.onmouseover=e.onmousemove=e.onmousedown=function(){f(this,1)},e.onmouseout=function(){f(this,0)}}e.onclick=function(e){var a=this.mb,i=parseInt(this.getAttribute("name"));return a.xa||a.highlight(i),a.src.focus(),a.hb=!0,a.select(i),a.Nb(e,0)},out.appendChild(e)}n||out.appendChild(this.Wb()),this.Xa=-1,this.Wa=this.Ba&&h>0?0:-1,this.Aa&&0==this.Wa&&!this.gb&&this.Kb(!0),this.gb=!1,this.show(1),this.eb=!0},this.Yb=function(e,type){var c=this.ta;""==type?(removeClass(e,c+"H"),removeClass(e,c+"M"),this.Zb(e,!1)):"M"==type?(removeClass(e,c+"H"),addClass(e,c+"M"),this.Zb(e,!1)):(removeClass(e,c+"M"),addClass(e,c+"H"),this.Zb(e,!0))},this.Zb=function(e,b){for(var h,a,i=0,c=this.ta+"HTC";i<2;i++)for(h=0,a=e.getElementsByTagName(0==i?"div":"span");h<a.length;h++)b?addClass(a[h],c):removeClass(a[h],c)},this.Wb=function(){var e=L("div");return et(e,this.ta+"Sep"),e},this.Eb=function(a){this.items.length>0?(this.highlight(this.Xa<0?this.Va?this.Wa+a:this.Wa:this.Xa),this.Xa=-1,this.show(1)):this.Jb(this.Ib())},this.highlight=function(h){if(this.Wa!=h){this.cancelReq(),h<this.Da?h=this.items.length-1:h>=this.items.length&&(h=this.Da);var i=this.Xa;-1!=i&&i!=h&&this.Yb(this.$b(i),""),(i=this.Wa)!=h&&(-1!=i&&this.Yb(this.$b(i),""),-1!=h&&this.Yb(this.$b(h),"H")),this.Wa=h,this.Xa=-1,this.Aa&&this.Kb(!1),this.Sa(1)}},this.$b=function(h){for(var i=0,a=this.items,n=a.length;i<n;i++)if(a[i].Xb.getAttribute("name")==h)return a[i].Xb;return null},this._b=function(){var c,i=0,s=this.src.value,h=s.length,n=!1,l=0;if(this.Ja)for(;i<h;i++)c=s.charAt(i),n?n=!1:"\\"==c?n=!0:","==c?l=i+1:l!=i||" "!=c&&"\t"!=c||l++;else for(;l<h&&(" "==(c=s.charAt(l))||"\t"==c);)l++;return l},this.Ib=function(){var s=this.src.value.substr(this._b());if(!this.Ja)return s;for(var c,i=0,h=s.length,n=!1,t="";i<h;i++)c=s.charAt(i),n?(n=!1,t+=("\\"==c||","==c?"":"\\")+c):"\\"==c?n=!0:t+=c;return t},this.Lb=function(h,n){if(this.Ja){var s=h;h="";for(var c,i=0,l=s.length;i<l;i++)c=s.charAt(i),h+=("\\"==c||","==c?"\\":"")+c}var v,e=this.src,p=this._b();e.value=e.value.substr(0,p)+h,n&&this.za&&h.substr(0,v=this.prev.length)==this.prev&&this.sb(p+v,p+h.length)},this.sb=function(from,to){K(this.src,from,to)},this.qb=function(){var e=this.src;return e.value.substring(e.selectionStart,e.selectionEnd)},this.ac=function(){if(this.Ja)for(var c,i=0,s=this.src.value,h=s.length,n=!1;i<h;i++)if(c=s.charAt(i),n)n=!1;else if("\\"==c)n=!0;else if(","==c)return!0;return!1},this.Kb=function(h){if(-1==this.Wa)this.Lb(this.prev,!1);else{var p,s=this.items[this.Wa].bc;h&&(p=this.Ib())!=s.substr(0,p.length)||this.Lb(s,!0)}},this.select=function(h){if(this.cancelReq(),this.Va){this.prev=this.Ib();var e=this.src,s=e.value;if(this.show(0),-1!=h&&!this.Aa){var a=this.items[h].bc;this.Lb(a,!1),this.prev=a}if(-1==h||this.ac())this.Pa(null,this.src.value,"",null);else{var o=this.items[h];this.Pa(o.id,o.bc,o.style,o.cc),e.value!=s&&(this.eb=!1)}}else{if(!this.Ca)return void this.Eb(1);this.Pa(null,this.src.value,"",null)}this.eb||this.empty()},this.Fb=function(){var src=this.src,t=this;src.focus(),setTimeout(function(){src.focus(),t.kb=!1},20)},this.dc=function(){var e=this.src;return nt(e)==this.va?e.focus():this.Pa(null,e.value,"",null),!1},this.ec=function(){this.cache=[],this.fb=[],this.items=[],this.Mb()},this.reset=function(){this.src.value=this.prev="",this.ec(),this.Ma(!1);var t=this;setTimeout(function(){t.ub()},5)}}function Ct(h,n,l,v,T,Y,k,H,U,I,_){this.src=h,this.ra=this.src.id,this.out=n,this.sa=this.out.id,this.fc=l,this.Ea=v,this.gc=T,this.n,this.ta="acPanel_item",this.va="inputElem_msg",this.hc,this.xa=!0,this.ya=!0,this.Aa=!1,this.Ba=!0,this.Ca=!1,this.Ga=!0,this.Ha=!0,this.wa=5,this.bb=this.gc.v,this.ic=this.bb,this.jc=[],this.L=function(){this.kc(""),this.lb(),this.gc.createReqObj&&(this.Ya=this.gc.createReqObj()),this.n=this.gc.ja(),this.lc()},this.lc=function(){var h=this.Vb;this.Vb=function(n){for(var d,i=0,a=this.n,l=a.length,s=this.prev;i<l&&s!=a[i][0];i++);return i<l&&(d=this.gc.G([this.gc.Q.H])[0],x="RU_"+a[i][1]+"\t"+s+"\t\t[referring term]\t"+d.H+"\t"+d.I+"\t"+d.J,n=0==n.length?x:x+"\n"+n,this.ab++),h.apply(this,[n])}},this.mc=function(h){this.nc(),this.jc=this.gc.la(h),this.$a=this.jc.length>0},this.nc=function(){this.$a=!1,this.jc=[],this._a="",this.ab=0,this.ec()},this.La=function(s){var fd=this.jc,h=fd.length;if(0!=h){s=s.toLowerCase();var i,x,m=s.length,a=[],c=0,max=Math.min(h,this.ic);if(""==s)for(i=0;i<h&&c<max;i++)a[c++]=fd[i][1];else{for(i=0;i<h&&c<max;i++)fd[i][0].substr(0,m)==s&&(a[c++]=fd[i][1]);for(i=0;i<h&&c<max;i++)(x=fd[i][0]).substr(0,m)!=s&&-1!=x.indexOf(s)&&(a[c++]=fd[i][1]);if(c<max&&s.indexOf(" ")>=0){var n,b,l=s.split(" "),m=l.length;for(i=0;i<h&&c<max;i++){for(b=(x=fd[i][0]).indexOf(s)<0,n=0;b&&n<m;n++)b&=x.indexOf(l[n])>=0;b&&(a[c++]=fd[i][1])}}}this._a=a.join("\n"),this.ab=c}},this.kc=function(a){this.hc="/qT/?"+(0==a.length?"":"d="+a.join(",")+"&")+"s="},this.Ka=function(s){return this.hc+s},this.Ma=function(b){this.fc.style.display=b?"block":"none"},this.Na=function(h,n){if(""==h)return null;var a=h.split("\t");if(a.length<7)return null;var id=a[0],l=a[1],style=a[2],v=a[3]+"\t"+a[4]+"\t"+a[5]+"\t"+a[6],e=L("div"),f=L("span"),ref="R"==id.charAt(0);return f.innerHTML=xt(l,style),e.appendChild(f),(""!=a[3]||ref)&&(f=L("span"),f.appendChild(document.createTextNode(ref?a[3]:"("+a[3]+")")),et(f,"acPanel_itemDesc"),e.appendChild(f)),ref||(f=L("span"),f.appendChild(document.createTextNode("("+a[5]+")")),et(f,"acPanel_itemInfo"),f.title=a[5]+": "+a[6],e.appendChild(f)),{id:id,bc:l,style:style,cc:v,Xb:e,type:ref?2:0}},this.Oa=function(){var e=L("div"),f=L("span"),g=L("span");return e.oc=1,g.innerHTML="&nbsp;",e.appendChild(g),e.appendChild(document.createTextNode("  "+this.prev+" ")),f.innerHTML="&#x2023;",f.style.lineHeight="11px",e.appendChild(f),e.title="Create a new term that is not yet in the dictionaries.",{id:null,bc:this.prev,style:"",cc:null,Xb:e}},this.Pa=function(id,h,style,n){if(null===id){id="U_U",n=this.gc.ia(h);var x=n.split("\t");x.length>4&&(id=x[4])}var a=n.split("\t"),l="R"==id.charAt(0)?"":a[0];Y("U_"+id,h,style,l,a[1],a[2],a[3])},this.Qa=function(){k&&k()},this.Ra=function(b){H&&H(b)},this.Sa=function(x){U&&U(x)},this.Ta=function(b){I&&I(b)},this.Ua=function(e){return!_||_(e)},this.L()}function Yt(x,y){this.x=x,this.y=y,this.add=function(val){var h=new Yt(this.x,this.y);return null!=val&&(isNaN(val.x)||(h.x+=val.x),isNaN(val.y)||(h.y+=val.y)),h},this.qc=function(val){var h=new Yt(this.x,this.y);return null!=val&&(isNaN(val.x)||(h.x-=val.x),isNaN(val.y)||(h.y-=val.y)),h},this.min=function(val){var h=new Yt(this.x,this.y);return null!=val&&(!isNaN(val.x)&&this.x>val.x&&(h.x=val.x),!isNaN(val.y)&&this.y>val.y&&(h.y=val.y)),h},this.max=function(val){var h=new Yt(this.x,this.y);return null!=val&&(!isNaN(val.x)&&this.x<val.x&&(h.x=val.x),!isNaN(val.y)&&this.y<val.y&&(h.y=val.y)),h},this.rc=function(val){var dx=this.x-val.x,dy=this.y-val.y;return dx*dx+dy*dy},this.sc=function(lower,upper){return this.max(lower).min(upper)},this.tc=function(){var h=new Yt(this.x,this.y);return isNaN(h.x)&&(h.x=0),isNaN(h.y)&&(h.y=0),h},this.apply=function(e){isNaN(this.x)||(e.style.left=this.x+"px"),isNaN(this.y)||(e.style.top=this.y+"px")}}function kt(h,n,l,v,T,Y,k,H,L){function dragStart(n){if(!dragging&&h.uc&&!K){dragging=!0,V=J<=0,V&&null!=T&&T(n,h),Z=P(n);var l=X(h,"margin-left"),my=X(h,"margin-top"),x=parseFloat(h.offsetLeft)-l,y=parseFloat(h.offsetTop)-my;return $=new Yt(x,y),$=$.tc(),x=n.offsetX+l+X(h,"border-left-width")+X(h,"border-right-width"),y=n.offsetY+my+X(h,"border-top-width")+X(h,"border-bottom-width"),B=new Yt(x,y),U(document,"mousemove",_),U(document,"mouseup",j),x=document.activeElement,x&&x!=document.body&&x.blur(),A(n)}}function _(n){if(dragging&&!K){var k=P(n);if(!V){if(k.rc(Z)<J)return;V=!0,null!=T&&T(n,h)}return k=k.qc(Z).add($).sc(l,v),k.apply(h),null!=Y&&Y(k,h,B),A(n)}}function j(h){return dragStop(),A(h)}function dragStop(){dragging&&!K&&(I(document,"mousemove",_),I(document,"mouseup",j),Z=null,$=null,V&&null!=k&&k(h),dragging=!1)}var B,J,V,Z=null,$=null,dragging=!1,K=!1;this.L=function(){if(null!=h){if(J=void 0!==H?H*H:9,null==n&&(n=h),null!=l&&null!=v){var T=l.min(v);v=l.max(v),l=T}L||this.vc()}},this.wc=function(h,n){l=h,v=n},this.dispose=function(){K||(this.xc(!0),h=null,n=null,l=null,v=null,T=null,Y=null,k=null,K=!0)},this.vc=function(){h.uc||K||(h.uc=!0,U(n,"mousedown",dragStart))},this.xc=function(l){h.uc&&!K&&(I(n,"mousedown",dragStart),h.uc=!1,l&&dragging&&dragStop())},this.yc=function(){return dragging},this.zc=function(){return h.uc},this.Ac=function(){return K},this.L()}function Ht(h,n,l,v,T,Y,k,U,I,_,A){function P(e){return"*"==_||hasClass(e,_)}function V(e){var x;return e.style.width=""!=(x=e.style.width)?x:"auto"!=(x=j(e,"width"))?x:e.clientWidth-X(e,"padding-left")-X(e,"padding-right")+"px",e.style.height=""!=(x=e.style.height)?x:"auto"!=(x=j(e,"height"))?x:e.clientHeight-X(e,"padding-top")-X(e,"padding-bottom")+"px",new kt(e,null,null,null,K,O,G,A)}function $(s){var a,m,h,i,e,p,q,min,max,x,y,d,n=!0,l=!0;for(i=0,a=ht.concat(et),m=ht.length,h=a.length;i<h;i++)e=i<m?a[i].e:a[i],p=new Yt(e.offsetLeft,e.offsetTop),q=new Yt(e.offsetLeft+e.offsetWidth,e.offsetTop+e.offsetHeight),0==i?(min=p,max=q,x=e.offsetLeft,y=e.offsetTop):(min=min.min(p),max=max.max(q),x!=e.offsetLeft&&(n=!1),y!=e.offsetTop&&(l=!1));for(i>0&&(p=Z(m>0?a[0].e:a[0],"margin"),p=new Yt(p[3],p[0]),min=min.qc(p),max=max.qc(p)),it=l?1:n?2:0,i=0;i<m;i++)d=a[i],d.Bc.wc(min.qc(new Yt(d.e.offsetWidth,d.e.offsetHeight)),max)}function K(n,e){e.style.top=e.offsetTop+"px",e.style.left=e.offsetLeft+"px",addClass(e,l),Q.style.width=B(e)+"px",Q.style.height=J(e)+"px",h.insertBefore(Q,e),Q.Cc=null==e.nextSibling?"end":e.nextSibling,st=h.childNodes,null!=T&&T(e)}function O(T,H,L){for(var e,T=T.add(L),U="end",i=0;i<st.length;i++)if(e=st[i],(hasClass(e,n)&&!hasClass(e,l)||hasClass(e,v))&&(2==it||T.x<=e.offsetLeft+e.offsetWidth/2)&&(1==it||T.y<=e.offsetTop+e.offsetHeight/2)){U=e;break}if(U==Q||U==Q.Cc)return void(null!=Y&&Y(H));Q.Cc=U,"end"!=U?h.insertBefore(Q,h.childNodes[i]):h.appendChild(Q),st=h.childNodes,null!=Y&&Y(H),null!=k&&k(H)}function G(e){null!=Q.Cc&&(Q.Cc=null,h.replaceChild(e,Q)),removeClass(e,l),e.style.top="0px",e.style.left="0px",null!=U&&U(e)}I=(I||"div").toLowerCase(),_=_||"*";var Q,it,st,ht=[],et=[];this.Dc=function(e){var h=!1;if(P(e)){var h=V(e);ht.push({e:e,Bc:h})
}else et.push(e);return $(),h},this.Ec=function(e){for(var i=0;i<ht.length;i++)if(ht[i].e==e){ht[i].Bc.dispose(),ht.splice(i,1);break}for(var i=0;i<et.length;i++)if(et[i]==e){et.splice(i,1);break}$()},function(){if("string"==typeof h&&(h=H(h)),null!=h){Q=L(I),Q.className=v,Q.Cc=null;var i,e,a=h.childNodes;for(i=0;i<a.length;i++)(e=a[i]).tagName.toLowerCase()==I&&(P(e)?ht.push({e:e,Bc:V(e)}):et.push(e));$()}}()}function Lt(h,n,l){function v(e){if(!e||Ft)if(e=window.event)var x=e.offsetX,y=e.offsetY;else var x=-100,y=-100;else for(var style,h=e.target,x=e.pageX,y=e.pageY;h.offsetParent;)style=window.getComputedStyle(h,null),x=x-h.offsetLeft-parseInt(style.getPropertyValue("border-left-width")),y=y-h.offsetTop-parseInt(style.getPropertyValue("border-top-width")),h=h.offsetParent;return{x:x,y:y}}function T(e){return e=e||window.event,null==e.which?e.button<2?"L":4==e.button?"M":"R":e.which<2?"L":2==e.which?"M":"R"}this.Fc,this.Gc,this.Hc,this.Ic,this.Jc,this.Kc,this.Lc,this.Mc,this.Nc,this.Oc,this.Pc,this.Qc,this.Rc,this.Sc="string"!=typeof h?h:H(h),this.Tc,this.Uc=[],this.Vc,this.Wc=null,this.Xc=[],this.gc=n,this.Yc=!0,this.Zc=!1,this.mb,this.$c,this._c=!1,this.ad="termToken",this.bd="termTokenDragged",this.cd="termTokenDraggable",this.ed="termTokenPlaceholder",this.gd="termTokenInst",this.jd="termTokenInstRef",this.kd="termTokenClass",this.ld="termTokenTerm",this.md="termTokenEdit",this.nd="termTokenEOL",this.od="termTokenEOLHL",this.pd="termTokenEditTmpNot",this.Ea="Enter words here";var t=this;this.qd=2,this.rd=-2,this.sd=4,this.ud=13,this.vd=this.ud-2,this.wd=3,this.xd="&hellip;",this.yd=150,this.zd=50,this.Ad=140,this.Bd=120,this.Cd,this.Dd=3,this.Ed=3,this.Fd=this.Dd+this.Ed,this.Gd=0,this.Hd,this.Id,this.Jd,this.Kd=!0,this.Ld=0,this.k="#F8F8F8",this.Md="#DDDDDD",this.Nd=12,this.Od=8,this.Pd=3,this.Qd="#686868",this.Rd="#ADADAD",this.Sd="#ADADAD",this.Td="#E3E3E3",this.Ud="rgba(46,72,255,0.56)",this.Vd="#E3E7FB",this.Wd="#EFF3FB",this.Xd=2.6,this.Yd="#BCBCBC",this.Zd="#C1C1C1",this.$d="rgba(46,72,255,0.56)",this._d=2,this.ae=1,this.be=0==this._d?3:1==this._d?5:6,this.ce=0==this._d?1:1==this._d?2:4,this.de=2,this.ee=this.de,this.fe=11,this.ge=0==this._d?5:1==this._d?6:8,this.he=this.fe+this.ge,this.ie=3.8,this.je=1,this.ke=1,this.le=3.9,this.me=6.9,this.ne=3.5,this.oe=4.72,this.pe=3.2,this.qe=5.8,this.re=1.79,this.te=2.85,this.ue=4.5,this.ve=4.5,this.we=2,this.xe=1,this.ye=4,this.ze=2,this.Ae=3,this.Be=3,this.Ce=this.Ae*this.he+this.Be,this.De=9,this.Ee=10,this.Fe="#BBBBBB",this.Ge="#C4C4C4",this.He=2,this.Ie=3.55,this.Je=1.8,this.Ke=3.7,this.Le=2.7,this.Me=2.8,this.Ne=2.8,this.Oe=5,this.Pe=4,this.Qe=11,this.Re=2.5,this.Se=["#E4E8F9","#708EA9","#3F6999"],this.Te=["#A8BACD","#FFFFFF","#FFFFFF"],this.Ue=Math.floor(this.sd/2),this.Ve=this.qd-this.Ue,this.We,this.Xe=-1,this.Ye=-1,this.Ze=-1,this.$e=[],this._e=!0,this.af,this.bf=[],this.cf=[],this.df,this.ef,this.ff=-1,this.gf=-1,this.hf=!1,this.jf=!1,this.kf=!1,this.lf=0,this.mf=0,this.nf=200,this.pf=!1,this.qf=!1,this.rf=!0,this.sf=300,this.tf,this.uf=160,this.vf=160,this.wf=150,this.xf=0,this.yf=!1,this.zf=!1,this.L=function(){if(this.Tc=Wt++,this.Vc=0,this.be++,this.ce+=.5,0!=this.Nd){var f=function(x){return $(x,t.Nd)},g=function(x){return $(x,t.Od)},h=function(x){return $(x,t.Pd)};this.Qd=f(this.Qd),this.Rd=f(this.Rd),this.Sd=f(this.Sd),this.Td=f(this.Td),this.Vd=g(this.Vd),this.Wd=g(this.Wd),this.Yd=f(this.Yd),this.Zd=f(this.Zd),this.Fe=f(this.Fe),this.Ge=f(this.Ge);for(var i=0;i<3;i++)this.Se[i]=h(this.Se[i]),this.Te[i]=h(this.Te[i])}this.Af(),this.Hd=this.Cd=this.Fc.clientWidth,this.Gd=this.Cd%this.Fd,this.mb=new Ct(this.Oc,this.Qc,this.Rc,this.Ea,this.gc,function(id,h,style,n,l,v,T){t.Bf(id,h,style,n,l,v,T)},function(){t.Cf()},function(b){t.Df(b)},function(x){3!=x&&qt.Ef()},function(b){b||t.Ff()},function(e){if(!e.ctrlKey&&!e.altKey)return t.Gf(e.shiftKey)}),""!=l&&this.Hf(l),this.Yc&&(this.If(),this.Jf(""!=l),this.$c=new Ht(this.Jc,this.ad,this.bd,this.ed,function(e){t.Kf(e)},function(e){t.Lf(e)},function(e){t.Mf(e)},function(e){t.Nf(e)},"div",this.cd,3),this.Of(!1),U(window,"resize",this.Pf))},this.Af=function(){var i=this.Tc;this.Fc=it("vsmBox",i),this.Gc=it("vsmCont",i),this.Ic=it("inputCont",i),this.Jc=it("termTokenList",i),this.Kc=it("termTokenListAndEOL",i),this.Lc=Q("div","termToken","EOL"+i),addClass(this.Lc,this.nd),this.Mc=it("inputAndAcWrapper",i),this.Nc=it("inputElemWrapper",i),this.Oc=ht("inputElem",i),this.Pc=it("acPanelWrapper",i),this.Qc=Q("a","acPanel",i),this.Rc=it("acSearchIndic",i),this.Qf(),(Bt||Dt||Xt)&&(this.Nc.style.paddingLeft=parseFloat(V(".inputElemWrapper").style.paddingLeft)+1+"px"),(Bt||Dt||jt)&&(this.ud+=1),G(this.Gc),G(this.Hc),this.Qc.onclick=function(){return!1},this.Sc.insertBefore(this.Fc,this.Sc.firstChild),this.Fc.appendChild(this.Gc),this.Fc.appendChild(this.Ic),this.Gc.appendChild(this.Hc),this.Ic.appendChild(this.Kc),this.Kc.appendChild(this.Jc),this.Kc.appendChild(this.Lc),this.Lc.appendChild(this.Mc),this.Mc.appendChild(this.Nc),this.Mc.appendChild(this.Pc),this.Nc.appendChild(this.Oc),this.Pc.appendChild(this.Qc),this.Pc.appendChild(this.Rc),this.Rf(-1,this.Lc),U(this.Fc,"mousedown",function(e){var tt,a=t.Uc,h=a.length;(0==h||v(e).x>=(tt=a[h-1]).x+tt.w)&&t.Sf(-1,!0,t.xf)})},this.Bf=function(id,h,style,n,l,v,T){this.Tf(id,h,style,n,l,v,T,0,0,0,[],[],this.Uf(),!0,!0),this.mb.reset(),this.mb.Qb()},this.Ff=function(){var pos=this.Uf();pos<0||null===this.Uc[pos].Vf||this.Wf(pos)},this.Cf=function(id,h,n){if(-1==this.Uf()){var i=this.Uc.length-1;i>=0&&this.Xf(this.Uc[i].Yf,!0)}},this.Df=function(b){this.Jf(!1);var e=ot(this.Oc,this.ad);hasClass(e,this.nd)&&(b?addClass(e,this.od):removeClass(e,this.od))},this.Gf=function(shiftKey){if(this.yf)return this.Zf(shiftKey?-1:1,!0,0),!1;var pos=this.Uf(),direction=0;if(shiftKey){for(var a=this.Uc,i=pos<0?a.length-1:pos-1;i>=0;i--)if(1==a[i].$f){direction=-1;break}}else-1!=pos&&(direction=1);return 0==direction||(this.Zf(direction,!0,0),!1)},this.getData=function(h){var i,n,a,e,b,l,m,v,f,s="",T=[],Y="\n",k="\t";for(i=0,a=this.Uc,n=a.length;i<n;i++){if(i>0&&(s+=Y),0==(e=a[i]).$f){for(b=e.id.split("_"),l=0;l<2;l++)"-"==(m=b[l].charAt(0))?b[l]="-":"U"==m&&(b[l]="U");s+=b.join(k)}else s+="E";if(s+=k+(this.Xe==i?"F":""),h){if(0==e.$f){for(s+=k+e.H+k+e.bc+k+e.style,l=0,m=T.length;l<m&&T[l][0]!=e.H;l++);l==m&&T.push([e.H,e.I,e.J])}s+=k+(0==e._f?"":e._f)+k+(0==e.ag?"":e.ag)+k+(0==e.bg?"":e.bg)+k+e.d.join(",")+k+e.fd.join(","),0==e.$f&&(s+=k+e.ha)}}for(s+=Y+Y,i=0,a=this.Xc,n=a.length;i<n;i++)if(!this.cg(i))for(s+=(0==i?"":Y)+(e=a[i]).type,l=0,v=e.dg,m=v.length;l<m;l++)f=v[l],s+=k+(null!==f.Yf?f.pos:"_");if(h)for(s+=Y+Y,i=0,a=T,n=a.length;i<n;i++)s+=(0==i?"":Y)+(e=a[i])[0]+k+e[1]+k+e[2];return s},this.Hf=function(data){this.Yc=!1,data=data.replace(/\r/g,"");var h,m,b,i,n,a,type,l,v,x,T,Y,H,L,U,style,I,_,A,d,fd,P,j="\n",data=data.eg(j+j),X=-1;if(3==data.length){for(Y=data[2].eg(j),h=0,m=Y.length;h<m;h++)if(Y[h]=Y[h].eg("\t"),3!=Y[h].length)return;for(b=data[0].eg(j),i=0,n=b.length;i<n;i++){if(a=b[i].eg("\t"),"E"!=a[0]){if(13!=a.length)return;H=a[3],L=a[4],U=a[5],style=a[6],I=a[7],_=a[8],A=a[9],d=a[10],fd=a[11],P=a[12]}else{if(7!=a.length)return;H=a[1],I=a[2],_=a[3],A=a[4],d=a[5],fd=a[6]}for(H="F"==H,I=""==I?0:parseInt(I),_=""==_?0:parseInt(_),A=""==A?0:parseInt(A),d=d.eg(","),h=0,x=d.length;h<x;h++)d[h]=parseInt(d[h]);if(fd=fd.eg(","),"E"!=a[0]){for(h=0;h<m&&Y[h][0]!=L;h++);if(h==m)return;this.Tf(a[0]+"_"+a[1]+"_"+a[2],U,style,P,L,Y[h][1],Y[h][2],I,_,A,d,fd,-1,!1,!1)}else this.fg(I,_,A,d,fd),X<0&&(X=i,this.Sf(i,!1,0,!1,!1));H&&this.gg(i,!1)}for(b=data[1].eg(j),v=this.Uc,i=0,n=b.length;i<n;i++){if(a=b[i].eg("\t"),(m=a.length)<2)return;if(0==(type=Number(a[0]))&&m<4||2==type&&m<3)return;for(h=1,l=[],x=[];h<m;h++){if(T="_"!=a[h]?v[a[h]].Yf:null,k(T,x))return;x.push(T),l.push({Yf:T,hg:!1})}this.Xc.push({type:type,dg:l})}this.Yc=!0,this.ig(0)}},this.Qf=function(w,h){var e=this.Hc=Q("canvas","vsmCanvas",this.Tc);return Ft||(this.jg=e.getContext("2d")),U(e,"mousemove",function(e){return t.kg(e),!1}),U(e,"mouseout",function(e){return t.lg(e),!1}),U(e,"mousedown",function(e){return t.mg(e),!1}),U(e,"mouseup",function(e){return t.ng(e),!1}),U(e,"mouseover",function(e){return t.og(e),!1}),e.onselectstart=function(){return!1},e},this.Jf=function(h){var t,a=this.Uc,n=a.length,l=!1,pos=this.Uf(),v=-1==pos?this.mb.Db()&&!this.mb.ib:""==this.Lc.innerHTML;this.Jd=0==n?this.rd:(t=a[n-1]).x+t.w;var w=Math.max(this.Cd,this.Jd+(v?this.zd:this.yd)),T=this.Id,e=this.Hc;w=w-w%this.Fd+this.Gd,this.Kd||(this.Ld>w?w=this.Ld:this.Ld=w),this.Hd!=w&&(this.Hd=w,l=!0),this.Lc.style.width=w-this.Jd-this.vd+"px",w==e.clientWidth&&T==e.clientHeight&&this._c?h&&this.l():(this.Fc.style.width=w+"px",this.pg(w,T),this._c=!0,this.l()),l&&this.Zc&&this.ig(1)},this.pg=function(w,h){var e=this.Hc;if(Ft&&this._c&&(this.Gc.removeChild(e),e=this.Qf(),this.Gc.appendChild(e)),e.setAttribute("width",w),e.setAttribute("height",h),Ft&&(G_vmlCanvasManager.initElement(e),this.jg=e.getContext("2d")),!Ft&&window.devicePixelRatio>1){var x=window.devicePixelRatio;e.width=w*x,e.height=h*x,e.style.width=w+"px",e.style.height=h+"px",e.getContext("2d").scale(x,x)}},this.Of=function(b){this.Ld=b?0:this.Hd,this.Kd=b},this.qg=function(e,type,h){h&&(removeClass(e,this.gd),removeClass(e,this.jd),removeClass(e,this.kd),removeClass(e,this.ld)),addClass(e,0==type?this.gd:1==type?this.jd:2==type?this.kd:this.ld)},this.fg=function(h,n,l,d,fd){var e,id,tt,v=this.Vc++;e=it(this.ad,this.Tc+"_"+v),addClass(e,this.md),id="U"+v+"_U_U",this.Jc.appendChild(e),e.style.width=(h>0?h:this.Bd)+this.wd+"px",tt={id:id,type:0,bc:"",style:"",ha:"",H:-1,I:"",J:"",Yf:e.id,e:e,x:0,w:e.offsetWidth,$f:1,Vf:null,_f:h,ag:n,bg:l,d:d,fd:fd},this.Uc.push(tt),this.Rf(tt,tt.e),1==this.Uc.length&&this.mb.Cb(!1),this.ig(0)},this.Rf=function(tt,e){U(e,"mousedown",function(){t.Sf(-1==tt?-1:t.rg(tt.Yf),!0,t.xf)}),U(e,"dblclick",function(){t.Uf()==(-1==tt?-1:t.rg(tt.Yf))&&t.mb.wb(),qt.sg(e,function(){return t.tg(tt)},0)})},this.Tf=function(id,h,style,n,l,v,T,Y,k,H,d,fd,pos,L,I){if(I&&qt.Ef(),pos>=this.Uc.length&&(pos=-1),pos>=0){var tt=this.Uc[pos];Y=tt._f,k=tt.ag,H=tt.bg,d=tt.d,fd=tt.fd}var _,s=xt(h,style,H>0?H:this.Ad,this.xd),A=pos<0?this.Vc++:this.Uc[pos].Yf.split("_")[1],e=it(this.ad,this.Tc+"_"+A),a=id.split("_"),type="-"!=a[0].charAt(0)?"R"!=a[1].charAt(0)?0:1:"-"!=a[1].charAt(0)?2:3;"-"==a[0]&&(a[0]="-U"),a[0]=a[0].replace(/U/,"U"+A),id=a.join("_"),addClass(e,this.cd),e.innerHTML=s,this.qg(e,type,!0),pos<0?this.Jc.appendChild(e):(this.Zf(1),this.Jc.insertBefore(e,_=tt.e),_.parentNode.removeChild(_)),k>0&&wt(s)<k&&(e.style.width=k+"px"),tt={id:id,type:type,bc:h,style:style,ha:n,H:l,I:v,J:T,Yf:e.id,e:e,x:0,w:B(e),$f:0,Vf:null,_f:Y,ag:k,bg:H,d:d,fd:fd},pos<0?this.Uc.push(tt):this.Uc[pos]=tt,U(e,"mouseover",function(){qt.sg(e,function(){return t.tg(tt)})}),U(e,"mousedown",function(){qt.ug(!1),e.vg=!1}),U(e,"mouseup",function(){qt.ug(!0)}),U(e,"dblclick",function(x){x=x||window.event,x.ctrlKey||x.shiftKey||(qt.Ef(),t.wg(t.rg(tt.Yf)))}),U(e,"click",function(x){x=x||window.event,t.rf&&x.ctrlKey||e.vg||qt.sg(e,function(){return t.tg(tt)},0)}),this.rf&&U(e,"mousedown",function(e){e=e||window.event,e.ctrlKey&&t.xg(tt)}),1==this.Uc.length&&this.mb.Cb(!1),I&&(this.yg(pos<0?this.Uc.length-1:pos),this.zg(),this.Jf(!0)),L&&(pos>=0&&this.$c.Ec(_),this.$c.Dc(e)),this.ig(0)},this.Xf=function(h,n){var i=this.rg(h),a=this.Uc,e=a[i].e;if(!(i<0)){qt.Ef(),this.Uf()==i&&this.Zf(1,!0),e.parentNode.removeChild(e),this.$c.Ec(e),this.Uc.splice(i,1),h==this.Wc&&(this.Wc=null);for(var l,v,b,T=0,c=this.Xc,Y=!1;T<c.length;T++)for(l=c[T],v=0,b=l.dg;v<b.length;v++)if(b[v].Yf==h){T==c.length-1&&(this.lf=0),this.Xc.splice(T,1),i=0,T--,Y=!0;break}0==a.length&&this.mb.Cb(!0),n&&(this.yg(i),i<=this.Ye&&(this.Ye=-2),this.zg(),this.Jf(!0),Y&&this.Ag()),this.ig(0)}},this.rg=function(h){for(var i=0,a=this.Uc,n=a.length;i<n;i++)if(a[i].Yf==h)return i;return-1},this.gg=function(pos,h){var p,n=this.Uc[pos].Yf,l=this.Wc;this.Wc=n==l?null:n,h&&(null!==l&&-1!=(p=this.rg(l))&&(pos=Math.min(pos,p)),this.yg(pos),this.l()),this.ig(0)},this.Bg=function(h){setTimeout(function(){t.Xf(h,!0)},this.uf)},this.Mf=function(h){for(var e,t,n=h.id,pos=0,i=0,a=this.Uc;i<a.length;i++)if(a[i].Yf==n){t=a[i],this.Uc.splice(i,1);break}for(i=0,a=this.Jc.childNodes;i<a.length&&(e=a[i],e.className!=this.ed);i++)e.id!=n&&pos++;this.Uc.splice(pos,0,t),this.If(),this.l(),this.ig(0)},this.Kf=function(e){this._e=!1,-1!=this.Ye&&(this.Ye=this.Ze=-1,this.l()),qt.ug(!1),e.vg=!0},this.Lf=function(e){},this.Nf=function(e){this._e=!0,qt.ug(!0),setTimeout(function(){qt.Ef()},50)},this.Cg=function(h,n){var i,l,v,d,T=h.dg,Y=this.Uc,k=Y.length,a=k-1,b=0;for(i=0,l=T.length;i<l;i++)if(d=T[i],null!=d.Yf){if(n)for(v=0;v<k;v++)if(Y[v].Yf==d.Yf){d.pos=v;break}a=Math.min(a,d.pos),b=Math.max(b,d.pos)}h.Dg=a,h.Eg=b},this.If=function(){var i,h,n,l,m,d,e,v,t,T,a,Y,cy,k,H,cx=-1,L=[],U=[],I=[],out=[],_=this.Uc,A=_.length,P=this.Xc,j=P.length,contains=function(a,e){for(var i=0;i<a.length;i++)if(a[i]===e)return!0;return!1};for(i=0;i<A;i++)L.push([]);for(this.lf>0&&(Y=P[--j]),i=0;i<j;i++)for(h=P[i],n=h.dg,this.Cg(h,!0),l=0,m=n.length;l<m;l++)if(d=n[l],null!=d.Yf){switch(h.type){case 0:t=0==l?m<3||(null==(e=n[1]).Yf||d.pos<e.pos)&&(null==(e=n[2]).Yf||d.pos<e.pos)?3:2:2==l?m<3||(null==(e=n[0]).Yf||d.pos>e.pos)&&(null==(e=n[1]).Yf||d.pos>e.pos)?5:4:1;break;case 1:t=0==l?0:6;break;default:t=0==l?7:8}L[d.pos].push({Fg:i,t:t})}for(i=0;i<A;i++)U.push(i);for(i=0;i<j;i++)I.push({Fg:i,Gg:P[i],c:0,s:!1});for(;I.length>0;){for(i=0,T=I.length,v=A;i<T;i++){for(h=I[i].Gg,n=h.dg,l=h.Dg,a=[];l<=h.Eg;l++)0!=!L[l].length||contains(a,e=U[l])||a.push(e);v=Math.min(v,I[i].c=a.length-(n.length-(0!=h.type||null!=n[0].Yf&&null!=n[1].Yf&&null!=n[2].Yf?0:1)))}for(k=[],i=0;i<T;i++)(e=I[i]).c==v&&k.push(e);for(i=0,m=k.length;i<m;i++)k[i].s=!1;for(i=0;i<m;i++)for(l=i+1;l<m;l++)v=function(i,h){var n,c,a,m,e,x,y;for(n=0;n<A;n++){for(c=0,a=L[n],m=a.length,x=y=-1;c<m;c++)(e=a[c]).Fg==i&&(x=e.t),e.Fg==h&&(y=e.t);if(x>=0&&y>=0)break}return n==A||x==y?0:x<y?-1:1}(k[i].Fg,k[l].Fg),v>0?k[i].s=!0:v<0&&(k[l].s=!0);for(i=0,v=!0;i<m;i++)v=v&&k[i].s;for(i=0,a=A,l=0;i<m;i++)e=k[i],(!e.s||v)&&(d=e.Gg.Dg)<a&&(a=d,l=i);for(out.push((e=k[l]).Gg),i=0,l=e.Fg;i<T;i++)if(I[i].Fg==l){I.splice(i,1);break}for(i=0,a=[],n=e.Gg.dg,T=n.length;i<T;i++)null!=(e=n[i]).Yf&&a.push(U[e.pos]);for(i=0,d=a.pop();i<A;i++)contains(a,U[i])&&(U[i]=d)}for(this.lf>0&&(out.push(Y),j++),P=this.Xc=out,i=0,H=this.cf=[];i<A;i++)H.push(-1);for(i=0,t=-1;i<j;i++){for(h=P[i],n=h.dg,l=0,m=n.length;l<m;l++)d=n[l],null!=d.Yf&&(d.Hg=H[d.pos]+1);for(l=h.Dg,a=-1;l<=h.Eg;l++)a=Math.max(a,H[l]);if(h.Hg=++a,!this.cg(i)){for(l=h.Dg;l<=h.Eg;l++)H[l]=a;t=Math.max(t,a)}}this.af=t,-1!=this.Ye&&(cx=this.Ye,cy=this.Ze,this.Ye=this.Ze=-1),this.Ig(),this.yg(0),-1!=cx&&this.Jg(-1,-1,cx,cy,this.hf,this.jf,this.kf,!0)},this.Ig=function(){var h=Math.max(this.Ce,(this.af+2)*this.he+this.Be);this.Id!=h&&(this.Id=h,this.We=this.Id-this.be+1,this.pg(this.Hd,h))},this.yg=function(h){for(var i,t,p,n,y1,l,m,v,a,d,dd,T,Y=this.Uc,k=Y.length,H=this.Xc,L=H.length,U=this.$e,I=this.bf=[],_=this.cf;U.length<k;)U.push(0),_.push(0);for(;U.length>k;)U.pop(),_.pop();for(i=0;i<k;i++){for(T=[],l=0;l<=this.af+1;l++)T.push(-1);I.push(T)}for(i=h;i<k;i++)t=Y[i],t.x=0==i?this.qd:(p=Y[i-1]).x+p.w+this.sd,t.Kg=t.x+this.je,t.x1=t.x+t.w-this.je,t.Lg=Math.floor((t.Kg+t.x1-1)/2)+.5,U[i]=t.x+t.w+this.Ue,t.Yf==this.Wc&&(this.Xe=i);for(null===this.Wc&&(this.Xe=-1),i=0;i<L;i++){for(n=H[i],v=n.dg,this.Cg(n,!0),y1=this.Id-this.be-n.Hg*this.he-this.fe,n.Mg=y1+.5,l=0,m=v.length,dd=-1;l<m;l++)if(d=v[l],null!=d.Yf){if(d.Ng=this.Id-this.be-d.Hg*this.he,d.y1=y1+1,d.Mg=d.Ng+.5,d.hg&&(d.Ng-=this.ie,1==n.type&&l>0)){for(var A=0;A<m-1&&v[A].pos!=d.pos;A++);d.Og=A<m-1}for(a=d.Hg;a<n.Hg;a++)I[d.pos][a]=i}else dd=l;for(l=n.Dg;l<=n.Eg;l++)I[l][n.Hg]=i;if(!(n.Eg<h)&&(n.Kg=Y[n.Dg].Lg-.5,n.x1=Y[n.Eg].Lg+.5,-1!=dd)){if(1==dd)n.Pg=Math.floor((n.Kg+n.x1-1)/2)+.5;else{var P=0==dd?this.De:this.Ee;m<3||0==dd&&v[1].pos<=v[2].pos||2==dd&&v[1].pos<=v[0].pos?(n.Qg=n.Kg,n.Rg=n.Qg-P,n.Pg=n.Rg+.5):(n.Qg=n.x1,n.Rg=n.Qg+P,n.Pg=n.Rg-.5)}n.dt=dd+1,n.Sg=n.Mg+(0==dd?this.Pe:this.Oe)}}for(i=0;i<k;i++){for(l=this.af+1;l>=0&&(-1==(a=I[i][l])||this.cg(a));l--);_[i]=l}},this.Ag=function(){null!=this.tf&&clearTimeout(this.tf),this.tf=setTimeout(function(){t.Tg()},this.sf)},this.Tg=function(){this.tf=null,this.If(),this.l()},this.l=function(){var c=this.jg,cx=this.Ye,h=-1,n=!1,l=this.Id-.5-this.de,x=this.Jd-(this.Uc.length>0?0:this.qd);if(Ft&&c.clearRect(0,0,this.Hd,this.Id),Ft||(c.fillStyle="#FFFFFF",c.fillRect(0,0,this.Hd,this.Id)),this.k&&"#FFFFFF"!=this.k?(c.fillStyle=this.k,c.fillRect(0,0,this.Hd,this.Id-this.ee)):(c.strokeStyle=this.Md,this.Ug(this.Hd,l,x,l,this.Dd,this.Ed)),-1!=cx){if(this.lf>0){var cy=this.Ze,x1=this.Vg(cx,cy,0),x2=this.Vg(cx,cy,1);c.fillStyle=this.Wd,this.fillRect(x1,0,x2,this.Id)}h=this.bf[this.Ye][this.Ze],-1!=h&&(this.cg(h)&&(h=-1),-1!=h&&2!=this.lf&&this.Wg(h))}c.lineWidth=this.ae;for(var i=0,a=this.Xc,v=a.length;i<v;i++)3!=a[i].type?this.Xg(a[i],h==i):n=!0;null!==this.Wc&&this.Yg(i=this.Xe,cx==i,!1),n&&this.Yg(cx,!0,!0)},this.Vg=function(cx,cy,i){switch(i){case 0:return 0==cx?this.Ve:this.$e[cx-1];case 1:return this.$e[cx];case 2:return 0==cy?this.Id:this.We-cy*this.he+1;case 3:return cy>this.af?0:this.We-(cy+1)*this.he+1}},this.Wg=function(h){var n=this.Xc[h];if(void 0!==n){var i,d,l,x1,v,y1,c=this.jg,T=n.dg,r=this.Xd,p=this.Re;for(i=0;i<T.length;i++)d=T[i],null!=d.Yf&&(l=this.Vg(d.pos,d.Hg,0)+1,x1=this.Vg(d.pos,d.Hg,1)-this.ke,v=this.Vg(d.pos,d.Hg,2),y1=this.Vg(d.pos,n.Hg,3)+Math.ceil(r),c.fillStyle=this.Vd,this.fillRect(l,v,x1,y1),0!=d.Hg&&(l=this.Vg(d.pos,d.Hg,0)+1,x1=this.Vg(d.pos,d.Hg,1)-this.ke,v=this.Vg(d.pos,0,2),y1=this.Vg(d.pos,d.Hg-1,3),c.fillStyle=this.Wd,this.fillRect(l,v,x1,y1)));l=this.Vg(n.Dg,n.Hg,0)+1,x1=this.Vg(n.Eg,n.Hg,1)-this.ke,y1=this.Vg(n.Dg,n.Hg,2),v=this.Vg(n.Dg,n.Hg,3),y1=Math.floor((v+y1)/2),c.fillStyle=this.Vd,this.Zg(l,v,x1,y1,r);var style=this.gf==h&&this.ff==h?2:this.ff==h||this.gf==h?1:0;l=x1-this.Qe,y1=v+this.Qe,c.fillStyle=this.Se[style],this.$g(l,v,x1,y1,r),c.strokeStyle=this.Te[style],c.lineWidth=2,c.beginPath(),c.moveTo(l+=p,v+=p),c.lineTo(x1-=p,y1-=p),c.moveTo(x1,v),c.lineTo(l,y1),c.stroke()}},this.Xg=function(h,n){var i,m,l=h.dg,v=l.length,t=h.type;if(h.dt&&this._g(h),v>1||!l[0].hg){var T=h.Mg;this.jg.strokeStyle=this.Qd,h.type<2?(this.ah(h.Kg,T,h.x1,T),1==h.type&&(T+=this.re,this.ah(h.Kg,T,h.x1,T))):(m=(h.Kg+h.x1)/2,this.bh(h.Kg,T,m+.5,T),this.bh(h.x1,T,m-.5,T))}for(i=v-1;i>=0;i--)this.dh(0==t?i:1==t?0==i?3:4:i+5,l[i],n,!!l[i].hg);for(i=0;i<v;i++)this.eh(0==t?i:1==t?0==i?3:4:i+5,l[i])},this.dh=function(type,d,h,n){if(null!=d.Yf){var t=this.Uc[d.pos],l=d.Mg;this.jg.strokeStyle=n?this.Td:h?this.Sd:this.Rd,type<=4?this.ah(t.Kg,l,t.x1,l):(this.bh(t.Lg+.5,l,t.Kg,l),this.bh(t.Lg-.5,l,t.x1,l))}},this.eh=function(type,d){if(null!=d.Yf){var h=this.Uc[d.pos].Lg,n=d.Ng;switch(4==type&&d.Og&&h++,this.jg.strokeStyle=d.hg?this.Ud:this.Qd,type<=4?this.ah(h,n-(1==type?Math.floor(this.me-1):3==type?Math.floor(this.qe-1):0),h,d.y1):this.bh(h,n-(6==type?Math.floor(this.ve):0),h,d.y1),this.jg.fillStyle=d.hg?this.Ud:this.Qd,type){case 1:this.fh(h-this.le,++n,h,n-this.me,h+this.le,n);break;case 2:this.gh(h-this.ne,n-this.oe,h,n,h+this.ne,n-this.oe);break;case 3:this.fillRect(h-this.pe,++n,h+this.pe,n-this.qe);break;case 6:this.hh(h-this.te,n-this.ue,h,n,h+this.te,n-this.ue)}}},this._g=function(h){var c=this.jg,dt=h.dt,w=2==dt?this.Me:3==dt?this.Ne:this.Le;c.strokeStyle=c.fillStyle=this.Fe,2!=dt&&this.ah(h.Qg,h.Mg,h.Rg,h.Mg),this.ah(h.Pg,h.Mg+.5,h.Pg,h.Sg+.5),c.strokeStyle=c.fillStyle=this.Fe,2==dt?this.fh(h.Pg-this.He,h.Sg,h.Pg,h.Sg-this.Ie,h.Pg+this.He,h.Sg):3==dt&&this.gh(h.Pg-this.Je,h.Sg-this.Ke,h.Pg,h.Sg-1,h.Pg+this.Je,h.Sg-this.Ke),c.strokeStyle=this.Ge,this.ah(h.Pg-w,h.Sg,h.Pg+w,h.Sg)},this.Yg=function(pos,h,n){var t=this.Uc[pos],l=this.Id-this.ce;this.jg.strokeStyle=n?this.$d:h?this.Zd:this.Yd,this.ih(t.Kg,l,t.x1,l)},this.ah=function(x1,y1,x2,y2){var c=this.jg;c.beginPath(),c.moveTo(x1,y1),c.lineTo(x2,y2),c.stroke()},this.bh=function(x1,y1,x2,y2){this.Ug(x1,y1,x2,y2,this.we,this.xe)},this.ih=function(x1,y1,x2,y2){this.Ug(x1,y1,x2,y2,this.ye,this.ze)},this.Ug=function(x1,y1,x2,y2,h,n){var c=this.jg,dx=x2-x1,dy=y2-y1;if(0!=dx||0!=dy){var e,d=Math.sqrt(dx*dx+dy*dy),x=x1,y=y1;dx/=d,dy/=d;var l=n*dx,v=n*dy;if(dx*=h,dy*=h,(dx>=0?dx:-dx)>(dy>=0?dy:-dy))if(x1<x2){for(;x+dx<=x2;)c.beginPath(),c.moveTo(x,y),c.lineTo(x+=dx,y+=dy),c.stroke(),x+=l,y+=v;e=x<x2}else{for(;x+dx>=x2;)c.beginPath(),c.moveTo(x,y),c.lineTo(x+=dx,y+=dy),c.stroke(),x+=l,y+=v;e=x>x2}else if(y1<y2){for(;y+dy<=y2;)c.beginPath(),c.moveTo(x,y),c.lineTo(x+=dx,y+=dy),c.stroke(),x+=l,y+=v;e=y<y2}else{for(;y+dy>=y2;)c.beginPath(),c.moveTo(x,y),c.lineTo(x+=dx,y+=dy),c.stroke(),x+=l,y+=v;e=y>y2}e&&(c.beginPath(),c.moveTo(x,y),c.lineTo(x2,y2),c.stroke())}},this.gh=function(x1,y1,x2,y2,h,n){var c=this.jg;c.beginPath(),c.moveTo(x1,y1),c.lineTo(x2,y2),c.lineTo(h,n),c.stroke()},this.hh=function(x1,y1,x2,y2,h,n){var c=this.jg;c.beginPath(),c.moveTo(x1,y1),c.lineTo(x2,y2),c.lineTo(h,n),c.lineTo(x1,y1),c.closePath(),c.stroke()},this.fh=function(x1,y1,x2,y2,h,n){var c=this.jg;c.beginPath(),c.moveTo(x1,y1),c.lineTo(x2,y2),c.lineTo(h,n),c.closePath(),c.fill()},this.fillRect=function(x1,y1,x2,y2){var c=this.jg;c.beginPath(),c.moveTo(x1,y1),c.lineTo(x1,y2),c.lineTo(x2,y2),c.lineTo(x2,y1),c.fill()},this.Zg=function(h,n,x1,y1,r){var c=this.jg;c.beginPath(),c.moveTo(h+r,n),c.lineTo(x1-r,n),c.quadraticCurveTo(x1,n,x1,n+r),c.lineTo(x1,y1),c.lineTo(h,y1),c.lineTo(h,n+r),c.quadraticCurveTo(h,n,h+r,n),c.closePath(),c.fill()},this.$g=function(h,n,x1,y1,r){var c=this.jg;c.beginPath(),c.moveTo(h+r,n),c.lineTo(x1-r,n),c.quadraticCurveTo(x1,n,x1,n+r),c.lineTo(x1,y1-r),c.quadraticCurveTo(x1,y1,x1-r,y1),c.lineTo(h+r,y1),c.quadraticCurveTo(h,y1,h,y1-r),c.lineTo(h,n+r),c.quadraticCurveTo(h,n,h+r,n),c.closePath(),c.fill()},this.jh=function(m){var h,n,l=!1;if(m.x>=this.Ve){for(var i=0,a=this.$e,v=a.length;i<v;i++)if(m.x<a[i]){h=i;break}i<v?n=Math.max(0,Math.min(Math.floor((this.We-m.y)/this.he),this.af+1)):l=!0}else l=!0;return l?{Ye:-1,Ze:-1}:{Ye:h,Ze:n}},this.kh=function(x,y,i){var h=this.Xc[i],x1=this.Vg(h.Eg,h.Hg,1)-this.ke,n=x1-this.Qe,l=this.Vg(h.Dg,h.Hg,3),y1=l+this.Qe;return n<=x&&x<x1&&l<=y&&y<y1},this.cg=function(i){return this.lf>0&&i==this.Xc.length-1},this.lh=function(){this.Xc.pop(),this.lf=0,this.yg(this.Uc.length)},this.mh=function(e){t.nh(e,!0)},this.oh=function(e){t.nh(e,!1)},this.nh=function(e,b){e=e||window.event;var h,t,n=e.keyCode;n>=16&&n<=18&&(16==n?this.hf=b:17==n?this.jf=b:this.kf=b,1==this.lf&&(h=this.Xc[this.Xc.length-1]).type!=(t=this.hf?1:this.jf?2:this.kf?3:0)&&(h.type=t,this.l()))},this.og=function(e){this.hf=this.jf=this.kf=!1,U(document,"keydown",this.mh),U(document,"keyup",this.oh),this._e},this.lg=function(e){if(I(document,"keydown",this.mh),I(document,"keyup",this.oh),this._e){var h=!1;if((this.ff>0||this.gf>0)&&(this.ff=this.gf=-1,h=!0),-1!=this.Ye){var cx=this.Ye,cy=this.Ze;0==this.lf?-1!=this.bf[cx][cy]&&(h=!0):1==this.lf&&(this.lh(),h=!0),this.Ye=-1,this.Ze=-1}this.df=-1,h&&this.l()}},this.kg=function(e){if(this._e){var p=v(e);if(p.x!=this.df||p.y!=this.ef){this.df=p.x,this.ef=p.y;var m=this.jh(p);this.qf=!1,this.Jg(p.x,p.y,m.Ye,m.Ze,e.shiftKey,e.ctrlKey,e.altKey,!0)}}},this.Jg=function(px,h,cx,cy,shiftKey,ctrlKey,altKey,n){var l,v=!1;if(-1==cx||-1==(l=this.bf[cx][cy])||-1==px||this.cg(l)||2==this.lf)this.ff=-1;else{var over=this.kh(px,h,l),T=over?l:-1;v=T!=this.ff,this.ff=T}if(cx!=this.Ye||cy!=this.Ze){var Y,k,d;if(0==this.lf)-1!=cx?(cy>(Y=this.cf[cx])||-1==this.bf[cx][cy])&&-1==this.gf?(d=shiftKey?1:ctrlKey?2:altKey?3:0,this.Xc.push({type:d,Hg:++Y,dg:[{Yf:this.Uc[cx].Yf,Hg:Y,hg:!0}]}),this.lf=1,this.yg(cx),v=!0):(this.Ye<0||l!=this.bf[this.Ye][this.Ze])&&(v=!0):(this.Ye<0||-1!=this.bf[this.Ye][this.Ze])&&(v=!0);else if(1==this.lf)-1!=cx&&(cy>(Y=this.cf[cx])||-1==this.bf[cx][cy])?cx!=this.Ye&&(k=this.Xc[this.Xc.length-1],k.Hg=++Y,k.type=shiftKey?1:ctrlKey?2:altKey?3:0,d=k.dg[0],d.Yf=this.Uc[cx].Yf,d.Hg=Y,this.yg(cx),v=!0):(this.lh(),v=!0);else if(-1!=cx&&cx!=this.Ye){k=this.Xc[this.Xc.length-1],d=k.dg[k.dg.length-1],d.Yf=this.Uc[cx].Yf,d.pos=cx,d.Hg=this.cf[cx]+1,this.Cg(k,!1);for(var i=k.Dg,b=-1;i<=k.Eg;i++)b=Math.max(b,this.cf[i]);k.Hg=b+1,this.yg(0),v=!0}}else 1==this.lf&&(k=this.Xc[this.Xc.length-1]).type!=(d=shiftKey?1:ctrlKey?2:altKey?3:0)&&(k.type=d,v=!0);this.Ye=cx,this.Ze=cy,v&&n&&this.l()},this.ph=function(h,n){var c;h?c=this.jh({x:this.df,y:this.ef}):(c={Ye:-1,Ze:-1},this.qf=!0),this.Jg(this.df,this.ef,c.Ye,c.Ze,this.hf,this.jf,this.kf,n)},this.zg=function(){this.ph(-1!=this.Ye||2==this.lf,!1)},this.mg=function(e){if(this._e&&"L"==T(e)){if(A(e),this.pf){var dt=(new Date).getTime(),h=dt-this.mf<=this.nf;this.mf=dt}else var h=!1;if(this.qf&&(this.df=-1),this.kg(e),0==this.Uc.length)this.Sf(-1,!0,0,!0);else if(-1==this.Ye)if(this.lf>0)this.qh();else{var m=v(e);m.x>=this.$e[this.$e.length-1]&&this.Sf(-1,!0,0,!0)}else if(-1!=this.ff)this.gf=this.ff,this.l();else if(1==this.lf){var n=this.Xc[this.Xc.length-1],l=n.dg;e.altKey?(this.Xc.pop(),this.lf=0,this.Ye=this.Ze=-1,this.qf=!0,this.gg(l[0].pos,!0)):(n.type=e.shiftKey?1:e.ctrlKey?2:0,l[0].hg=!1,l.push({Yf:this.Uc[this.Ye].Yf,pos:this.Ye,Hg:n.Hg,hg:!0}),U(document,"mousedown",this.rh),U(document,"keydown",this.sh),this.lf=2,this.yg(l[0].pos),this.l())}else if(2==this.lf){var n=this.Xc[this.Xc.length-1],l=n.dg,Y=l.length,abort=!1,k=!1,finish=!1,p=this.Ye;if(0==n.type){if(2==Y)this.Ye==l[0].pos&&(l[0].Yf=null),k=!0;else{if(this.Ye==l[0].pos){if(l[0].pos!=l[1].pos)return;abort=!0}else this.Ye==l[1].pos&&(l[h?2:1].Yf=null);finish=!0}l[Y-1].hg=!1}else if(1==n.type)if(2==Y)this.Ye==l[0].pos?abort=!0:k=!0;else{for(var i=0;i<Y-1&&this.Ye!=l[i].pos;i++);i<Y-1?(l.pop(),finish=!0):k=!0}else 2==n.type&&(this.Ye==l[0].pos?abort=!0:(l[1].hg=!1,finish=!0));abort&&(this.Xc.pop(),finish=!0,p=0,this.qf=!0),k&&(l[Y-1].hg=!1,l.push({Yf:this.Uc[this.Ye].Yf,pos:this.Ye,Hg:l[Y-1].Hg,hg:!0})),finish&&(this.lf=0,this.Ye=this.Ze=-1,this.qf=!0,!abort&&n.Hg>=this.af&&(this.af=n.Hg),this.uh(),abort||this.ig(0)),this.yg(p),this.l(),finish&&this.Ag()}}},this.rh=function(e){t.qh()},this.sh=function(e){27==(e||window.event).keyCode&&t.qh()},this.uh=function(){I(document,"mousedown",this.rh),I(document,"keydown",this.sh)},this.qh=function(){if(!(this.lf=!1)){var h=this.Xc[this.Xc.length-1],n=h.dg,l=n.length,p=0,v=!1;0==h.type?l<=2?this.Xc.pop():null==n[0].Yf?this.Xc.pop():(n[2].Yf=null,p=h.Dg,v=!0):1==h.type?l<=2?this.Xc.pop():(n.pop(),v=!0):2==h.type&&this.Xc.pop(),this.lf=0,this.uh(),this.Ye=this.Ze=-1,this.qf=!0,v&&h.Hg>=this.af&&(this.af=h.Hg),this.yg(p),this.l(),v&&(this.Ag(),this.ig(0))}},this.ng=function(e){if(this._e&&"L"==T(e)&&-1!=this.gf){this.kg(e);var h=this.ff,same=h==this.gf;this.gf=-1,same&&(this.ff=-1,this.Xc.splice(h,1),this.Ye=this.Ze=-1,this.qf=!0,this.yg(0),this.ig(0)),this.l(),same&&this.Ag()}},this.tg=function(tt){if(-1==tt&&!Zt.vh())return!1;var a,h,i,type,n,l,s,x,c=L("div"),v=st("ttPopup_Name"),d=st("ttPopup_Descr"),b=st("ttPopup_NameSub"),m=st("ttPopup_Menu"),pos=t.rg(tt.Yf),T=-1!=tt&&0==tt.$f,Y=tt.ha,k=0,pre='Change to <span style="color:#',H=",&nbsp; ",f=function(x){return x.J+(""==x.H||""==x.I?"":" ("+x.I+", "+x.H+")")};if(T){for(a=tt.id.split("_"),type=tt.type,i=0;i<3;i++)-1!=a[i].indexOf("U")&&(a[i]="&hellip;");x=type<3?'<a hhref="/f/classid='+a[1].replace(/^[^\,]*\,/,"")+'">Class: ':"",h=(type<2?"Inst: "+a[0]+H:"")+(type<3?(1==type?"Ref-inst: ":x)+a[1].replace(/R/,"").replace(/\,/,H+x)+(""==x?"":"</a>")+H:"")+'<a hhref="/f/termid='+a[2]+'">Term: '+a[2]+"</a>",a=tt.id.split("_"),n=a[0].charAt(0),l=a[1].charAt(0),tt.wh||(tt.wh=xt(tt.bc,tt.style)),c.appendChild(v),v.innerHTML=tt.wh,"R"==l&&(Y="[referring concept] "+Y),""!=Y&&(v.appendChild(d),d.innerHTML=Y),v.appendChild(b),b.innerHTML='<a hhref="/dict?id='+tt.H+'">Dict: '+f(tt)+"</a><br>"+h,c.appendChild(m),"R"==l&&this.xh(m,"Edit referring term",function(){t.yh(pos)}),this.xh(m,"Edit",function(){t.wg(pos)}),this.xh(m,"Copy",function(){t.zh(pos,!1)}),"U"!=n&&"-"!=n&&this.xh(m,"Copy reference",function(){t.zh(pos,!0)}),this.Ah(m)}else{if(c.appendChild(v),v.appendChild(b),s="Preferred dictionaries:",0==(a=tt.d).length)s+="&nbsp; All.";else for(a=this.gc.G(a),i=0;i<a.length;i++)s+="<br>&nbsp;- "+f(a[i]);b.innerHTML=s,c.appendChild(m),-1!=tt&&null!==tt.Vf&&(this.xh(m,"Restore original",function(){t.Wf(t.rg(tt.Yf))}),k=1),Zt.vh()&&(this.xh(m,"Paste"+(Zt.Bh()?" reference":""),function(){-1==tt?t.Ch():t.Dh()}),k=1),-1!=tt&&1==k&&(this.Ah(m),k=0)}return-1!=tt&&this.xh(m,(this.Xe!=pos?"Make":"Unset as")+" focal",function(){t.gg(pos,!0)}),T&&(tt.wh!=tt.e.innerHTML&&this.xh(m,"Show full term",function(){tt.e.innerHTML=tt.wh,t.Eh(pos),tt.e.Fh=!0}),tt.e.Fh&&this.xh(m,"Undo show full term",function(){tt.e.innerHTML=xt(tt.bc,tt.style,tt.bg>0?tt.bg:t.Ad,t.xd),t.Eh(pos),tt.e.Fh=!1}),type>1&&(this.Gh(a,type,0)&&this.xh(m,pre+'008">Instance</span>',function(){t.Hh(tt,0)}),this.Gh(a,type,2)&&this.xh(m,pre+'A90">Class</span>',function(){t.Hh(tt,2)}),this.Gh(a,type,3)&&this.xh(m,pre+'700">Term</span>',function(){t.Hh(tt,3)}))),-1!=tt&&(this.Ah(m),this.xh(m,"Remove",function(){t.Bg(tt.Yf)})),c},this.xh=function(m,text,f,h){var c="ttPopup_MenuItem",o=st(c);o.innerHTML=text,m.appendChild(o),G(o),!1!==f?(c="ttPopup_MenuItemHover",U(o,"mouseup",function(){qt.Ef(),f()}),U(o,"mouseover",function(){addClass(o,c)}),U(o,"mouseout",function(){removeClass(o,c)})):addClass(o,"ttPopup_MenuItemInact"),!0===h&&addClass(o,"ttPopup_MenuSep")},this.Ah=function(m){var o=st("ttPopup_MenuSep");m.appendChild(o),G(o)},this.Gh=function(a,type,h){return 0==h&&(2==type||3==type&&a[1].length>1)||2==h&&(0==type||3==type&&a[1].length>1&&"R"!=a[1].charAt(1))||3==h&&type<3},this.Hh=function(tt,h){var a=tt.id.split("_");if(!this.Gh(a,tt.type,h))return!1;if(h<2)a[0]=a[0].substr(1),3==tt.type&&(a[1]=a[1].substr(1)),tt.type="R"!=a[1].charAt(0)?0:1;else if(2==h)0==tt.type?a[0]="-"+a[0]:a[1]=a[1].substr(1),tt.type=2;else{if(3!=h)return!1;a[1]="-"+a[1],tt.type<2&&(a[0]="-"+a[0]),tt.type=3}return tt.id=a.join("_"),t.qg(tt.e,tt.type,!0),this.ig(0),!0},this.xg=function(tt){var type=tt.type;this.Hh(tt,type<2?2:2==type?3:0)||this.Hh(tt,type<2?3:2==type?0:2)},this.zh=function(pos,h){var c,tt=this.Uc[pos];(!h||"U"!=(c=tt.id.charAt(0))&&"-"!=c)&&Zt.Ih(tt.id,tt.bc,tt.style,tt.ha,tt.H,tt.I,tt.J,h)},this.Dh=function(){setTimeout(function(){t.Ch()},this.vf)},this.Ch=function(){var e=Zt.Jh();if(!1!==e){var p,pos,x,h,i,m,tt,n,l,v,d,fd,a=e.id.split("_"),T=a[0],Y=a[1],k=a[2],c=T.charAt(0);if(e.Kh){if("U"==c||"-"==c)return;"R"==Y.charAt(0)?(x=Y.split(","),Y="R"+T+(x.length<2?"":","+x[1])):Y="R"+T+","+Y,c="U"}else"-"!=c&&(c="U"),"-"==Y.charAt(0)&&(Y="-");if(p=pos=this.Uf(),pos<0?(n=0,l=0,v=0,d=[],fd=[]):(tt=this.Uc[pos],n=tt._f,l=tt.ag,v=tt.bg,d=tt.d,fd=tt.fd),this.Tf(c+"_"+Y+"_"+k,e.bc,e.style,e.ha,e.H,e.I,e.J,n,l,v,d,fd,pos,!1,!1),a=this.Uc,h=a.length,i=h,pos=pos>=0?pos:h-1,"R"==Y.charAt(0)&&"U"!=(T=Y.split(",")[0].substr(1))){for(i=0,m=T.length,c;i<h&&a[i].id.substr(0,m)!=T;i++);i!=h&&(c={type:2,dg:[{Yf:a[pos].Yf,hg:!1},{Yf:a[i].Yf,hg:!1}]},this.Xc.splice(0==this.lf?h:h-1,0,c))}this.yg(i<pos?i:pos),i!=h&&this.If(),this.zg(),this.Jf(!0),this.$c.Dc(a[pos].e),e.Kh&&this.zf&&setTimeout(function(){t.yh(pos)},200),p<0&&this.Sf(-1)}},this.Eh=function(pos,h){var w,tt=this.Uc[pos],e=tt.e;w=wt(e.innerHTML),w=h?Math.max(h,w):w,e.style.width=w+"px",tt.w=e.offsetWidth,this.yg(pos),this.Jf(!0),this.$c.Ec(tt.e),this.$c.Dc(tt.e)},this.yh=function(pos){var i,p,f,g,tt=this.Uc[pos],e=tt.e,x="termTokenTermInputElem",y=2,h=tt._f>0?tt._f:this.Bd;e.Lh=e.innerHTML,e.innerHTML="",this.Eh(pos,h),(i=this.Mh)||(i=this.Mh=ht(x,this.Tc+"_"+pos),(Bt||Dt||jt)&&(y--,
i.style.paddingLeft=parseFloat(V("."+x).style.paddingLeft)+1+"px"),i.style.width=h+y+"px");var cover=it("coverAll","");document.body.appendChild(cover),i.style.left=e.offsetLeft+"px",i.style.top=e.offsetTop+"px",i.value=tt.bc,this.Jc.insertBefore(i,e),i.focus(),i.selectionStart=i.selectionEnd=tt.bc.length,p=function(b){if(!b||0!=i.value.length){if(i.parentNode.removeChild(i),b&&i.value!=tt.bc){var a,h=i.value;tt.bc=h,tt.style="",tt.wh=!1,e.innerHTML=xt(h,"",tt.bg>0?tt.bg:t.Ad,t.xd),a=tt.id.split("_"),a[2]="U",tt.id=a.join("_"),Zt.Nh(),t.ig(0)}else e.innerHTML=e.Lh;t.Eh(t.rg(tt.Yf),tt.ag),I(i,"keydown",f),I(document,"mousedown",g),document.body.removeChild(cover)}},f=function(h){h=h||window.event;var n=h.keyCode;13!=n&&27!=n&&9!=n||(p(13==n),t.mb.Fb())},U(i,"keydown",f),g=function(){p(!1)},U(document,"mousedown",g),i.onmouseover=function(){I(document,"mousedown",g)},i.onmouseout=function(){U(document,"mousedown",g)}},this.Uf=function(){for(var i=0,a=this.Uc,h=a.length;i<h;i++)if(2==a[i].$f)return i;return-1},this.Zf=function(direction,h,n){var a=this.Uc,l=a.length,pos=this.Uf(),direction=direction>0?1:-1,i=pos+direction;i<-1?i=l-1:i>=l&&(i=-1);do{if(i<0||1==a[i].$f)return void this.Sf(i,h,n);i+=direction,i<-1?i=l-1:i>=l&&(i=-1)}while(i!=pos)},this.Sf=function(pos,h,n,l,v){var s,T,Y,p=t.Uf(),k=this.Mc,H=this.mb,a=this.Uc;p!=pos&&(T=-1==p?this.Lc:a[p].e,Y=-1==pos?this.Lc:a[pos].e,T.removeChild(k),addClass(T,this.pd),T.innerHTML=H.src.value,!1!==v&&H.reset(),H.kc(pos<0?[]:a[pos].d),H.mc(pos<0?[]:a[pos].fd),s=Y.innerHTML,Y.innerHTML="",Y.appendChild(k),removeClass(Y,this.pd),!1!==v&&(H.xb(s,!0),H.Qb()),p>=0&&(a[p].$f=1),pos>=0&&(a[pos].$f=2)),!1===h?!1!==l&&H.Fb():(void 0===n&&(n=this.wf),0!=n&&H.Fb(),H.Gb(n))},this.wg=function(pos){var h,a=this.Uc,tt=a[pos],e=tt.e;h=it(this.ad,""),addClass(h,this.md),h.id=e.id,this.Jc.insertBefore(h,e),e.parentNode.removeChild(e),tt.Vf=e,tt.e=h,this.Eh(pos,(tt._f>0?tt._f:this.Bd)+this.wd),h.innerHTML=tt.bc,this.Sf(pos,!1),setTimeout(function(){t.mb.sb(0,tt.bc.length)},50),this.Rf(tt,tt.e),this.yg(pos),this.zg(),this.Jf(!0),this.$c.Ec(e),this.$c.Dc(h),this.ig(0)},this.Wf=function(pos){var tt=this.Uc[pos],h=tt.e,n=tt.Vf;this.Zf(1,!0),this.Jc.insertBefore(n,h),h.parentNode.removeChild(h),tt.e=n,tt.Vf=null,tt.$f=0,this.Eh(pos,tt.ag),this.yg(pos),this.zg(),this.Jf(!0),this.$c.Ec(h),this.$c.Dc(n),this.ig(0)},this.ig=function(type){this.Zc&&this.Zc.Oh(type)};this.Pf=function(){t.pg(t.Hd,t.Id);for(var i=0,a=t.Uc,h=a.length;i<h;i++)a[i].w=B(document.getElementById(a[i].Yf));t.yg(0),t.Jf(!0)},this.Ph=function(){I(window,"resize",this.Pf)},this.L()}function Et(h,n){this.id,this.name,this.Qh,this.gc=n,this.Yc=!1,this.Rh=[],this.Sh=[],this.L=function(){if(this.Th(),!this.Yc)return void(this.Rh=this.Sh=[]);this.Uh()},this.Th=function(){var i,n,l,m,a,b,d,e,s,type,v="\n",T="\t";if(!((i=h.indexOf(v))<0||2!=(a=h.substr(0,i).eg(T)).length||(this.id=parseInt(a[0]),this.name=a[1],s=h.substr(i+1).eg(v+v),s.length<4))){for(i=0,a=s[2].eg(v),l=a.length;i<l;i++)b=a[i].eg(T),6==b.length&&this.gc.O(parseInt(b[0]),parseInt(b[1]),b[2],b[3],b[4],parseInt(b[5]));for(i=0,a=s[3].eg(v),l=a.length;i<l;i++)b=a[i].eg(T),3==b.length&&this.gc.P(parseInt(b[0]),b[1],b[2]);for(i=0,a=s[0].eg(v),l=a.length;i<l;i++){if(b=a[i].eg(T),7!=(m=b.length)&&9!=m)return;for(d=b[5].eg(","),n=0;n<d.length;n++)d[n]=parseInt(d[n]);e={type:parseInt(b[0]),f:"F"==b[1]?1:0,_f:""==b[2]?0:parseInt(b[2]),ag:""==b[3]?0:parseInt(b[3]),bg:""==b[4]?0:parseInt(b[4]),d:d,fd:b[6].eg(",")},9==m&&(e.da=parseInt(b[7]),e.ea=parseInt(b[8])),this.Rh.push(e)}for(i=0,a=s[1].eg(v),l=a.length;i<l;i++){if(b=a[i].eg(T),(m=b.length)<2)return;if(0==(type=parseInt(b.splice(0,1)[0]))&&m<3||2==type&&m<2)return;for(n=0;n<b.length;n++)"_"!=b[n]&&(b[n]=parseInt(b[n]));this.Sh.push({type:type,Vh:b})}this.Yc=!0}},this.Uh=function(){var a,b,i,h,e,f,n="\n",l="\t",v=[],s="",T=this.gc;for(this.Yc=!1,i=0,a=this.Rh,h=a.length,b=[];i<h;i++)1==(e=a[i]).type&&b.push({da:e.da,ea:e.ea});for(b.length>0&&(b=T.ca(b),b.length),i=0,a=this.Rh,h=a.length;i<h;i++)if(e=a[i],1==e.type){if(!1===(f=T.pa(e.da,e.ea)))return!1;s+=(0==i?"":n)+"U"+l+e.da+l+e.ea+l+(1==e.f?"F":"")+l+f.H+l+f.fa+l+f.ga+l+e._f+l+e.ag+l+e.bg+l+e.d.join(",")+l+e.fd.join(",")+l+f.ha,v.push(f.H)}else s+=(0==i?"":n)+"E"+l+(1==e.f?"F":"")+l+e._f+l+e.ag+l+e.bg+l+e.d.join(",")+l+e.fd.join(",");for(s+=(0==i?"":n)+n,i=0,a=this.Sh,h=a.length;i<h;i++)s+=(0==i?"":n)+(e=a[i]).type+l+e.Vh.join(l);if(s+=(0==i?"":n)+n,v.length>0)for(b=T.G(v),h=b.length,i=0;i<h;i++)s+=(0==i?"":n)+(e=b[i]).H+l+e.I+l+e.J;this.Qh=s,this.Yc=!0},this.Wh=function(h){return new Lt(h,this.gc,this.Qh)},this.toString=function(){var i,a,h,e,n="\t",s="";for(i=0,a=this.Rh,h=a.length;i<h;i++)e=a[i],s+=(0==i?"":"\n")+e.type+n+(1==e.f?"F":"")+n+e._f+n+e.ag+n+e.bg+n+e.d.join(",")+n+e.fd.join(",")+n+(e.da&&e.ea?e.da+n+e.ea:"");for(s+=(0==i?"":"\n")+"\n",i=0,a=this.Sh,h=a.length;i<h;i++)e=a[i],s+=(0==i?"":"\n")+e.type+n+e.Vh.join(",");return s},this.L()}var data=[[45,"about"],[82,"after"],[36,"all"],[80,"also"],[95,"any"],[17,"as"],[81,"back"],[94,"because"],[22,"but"],[24,"by"],[53,"can"],[76,"come"],[67,"could"],[98,"day"],[19,"do"],[91,"even"],[88,"first"],[25,"from"],[47,"get"],[97,"give"],[49,"go"],[65,"good"],[9,"have"],[85,"how"],[62,"into"],[57,"just"],[59,"know"],[54,"like"],[74,"look"],[52,"make"],[50,"me"],[99,"most"],[34,"my"],[92,"new"],[56,"no"],[13,"not"],[73,"now"],[14,"on"],[35,"one"],[75,"only"],[31,"or"],[70,"other"],[86,"our"],[43,"out"],[78,"over"],[61,"person"],[41,"so"],[66,"some"],[60,"take"],[71,"than"],[38,"there"],[79,"think"],[55,"time"],[84,"two"],[42,"up"],[83,"use"],[93,"want"],[90,"way"],[89,"well"],[51,"when"],[33,"will"],[87,"work"],[37,"would"],[63,"year"],[3063,"years","",1000000063],[101,"eat","",1000000101],[102,"eats","",1000000101,"= to eat"],[69,"see","",1000000069],[169,"sees","",1000000069],[28,"say","",1000000028],[128,"says","",1000000028],[103,"chicken","i",1007000104,"as in 'coward'"],[105,"with","",1000000105,"as in 'using'"],[106,"using","",1000000105],[121,"use of","",1000000105],[105,"with","",1000000107,"as in 'accompanied by'"],[108,"fork"],[109,"burnt"],[11,"of","",1000000125,"= associated with"],[7,"in","",1000000007,"= is located in"],[117,"is located in","",1000000007],[118,"located in","",1000000007],[119,"at location","",1000000007],[20,"at","",1000000007,"= is located in"],[7,"in","",1000000115,"= is in time period"],[120,"during","",1000000120,"= in time period"],[20,"at","",1000000115,"= happens at timepoint"],[7,"in","",1000000111,"= pertains to"],[5,"and","",1000000005,"List, plain collection of items"],[112,"ordered-and","i0-7",1000000112,"List where item order is important"],[2,"is","",1000000002,"'to be', in its 3rd-person avatar"],[2,"are","",1000000114,"'to be', in its plural avatar"],[4,"of","",1000000123,"= belonging to"],[124,"'s","",1000000123,"belonging to"],[3,"to","",1000000003,"= having purpose"],[12,"for","",1000000003,"= having purpose"],[20,"at","",1000000125,"= associated with"],[126,"book"],[131,"if-then","",1000000131,"Single-term relation for the 'if ... then ...' construct in natural language"],[132,"else","",1000000132,"= 'if not ... then ...'"],[255,"VSM","",1000000255,"Visual Syntax Method, method and interface to capture information, comprehensible by both humans and computers"],[256,"Steven","",1000000256,"Steven Vercruysse (Cruy), creator of VSM"],[133,"has","",1000000009],[141,"between","",1000000141,"is located between"],[141,"between","",1000000142,"the location between a given list of items"],[151,"∀","",1000000151],[152,"for all","",1000000151],[153,"∃","",1000000153],[154,"exists","",1000000153],[1005,"5","",1000001005],[2005,"five","",1000001005],[1040,"40","",1000001040],[2040,"five","",1000001040],[1000004,"Brown"],[1000020,"Clarke"],[1000008,"Davis"],[1000012,"Evans"],[1000016,"Green"],[1000017,"Hall"],[1000019,"Jackson"],[1000007,"Johnson"],[1000002,"Jones"],[1000015,"Roberts"],[1000009,"Robinson"],[1000001,"Smith"],[1000003,"Taylor"],[1000011,"Thompson"],[1000013,"Walker"],[1000014,"White"],[1000005,"Williams"],[1000006,"Wilson"],[1000018,"Wood"],[1000010,"Wright"],[1000501,"Alice"],[1000502,"Bob"],[1000510,"John","",1001000510,"My imaginary friend John Doe in Norway."],[2000001,"beta-Carotene","",1002000001],[2000002,"β-Carotene","",1002000001],[2000002,"ICER","",1002000002,"Human gene"],[2000003,"cdc2","i",1002000003,"SpeciesX gene"],[2000003,"cdc2","",1002900003,"SpeciesY gene"],[2000010,"Ca2+","u2-3"],[2000011,"Na+Cl-","u2u5"],[2000014,"activates","",1002000014],[2000019,"activation","",1002000014],[2000015,"inhibits"],[2000016,"regulates"],[2000017,"has function"],[2000018,"according to"],[2000024,"regulation","",1002000016],[2000019,"binds to","",1002000019],[2000020,"binds","",1002000019],[2000021,"bind","",1002000019],[2000022,"bound to","",1002000019],[2000030,"ubiquitinates","",1002000030,"Addition of a ubiquitin-molecule tag to a protein, which marks it for degradation by proteasomes"],[103,"chicken","",1002000042,"the animal"],[2000101,"A","",1002000101,"Example molecule A"],[2000102,"B","",1002000102,"Example molecule B"],[2000103,"C","",1002000103,"Example molecule C"],[2000104,"D","",1002000104,"Example molecule D"],[2000124,"X","",1002000124,"Example molecule X"],[2000131,"protein A","",1002000131,"Example protein A"],[2000132,"protein B","",1002000132,"Example protein B"],[2000133,"location C","",1002000133,"Example location C"],[7000015,"IT","",1007000015,"Computer science"],[7000093,"m/s2","u3"],[7000016,"activates","",1007000016,"to turn on a device"],[7000017,"device"],[7000018,"is subclass of"],[7000019,"is a","",1007000018,"is subclass of"],[7000021,"percent"],[7000022,"%","",1007000021],[7000023,"percentage","",1007000021]],Mt=[["it",11],["he",16],["she",30],["they",26],["this",21],["that",8],["these",96],["him",58],["her",29],["them",68]],Ut=[[1,"CW","Common words"],[2,"PRS","Persons"],[3,"BIO","Biological concepts"],[8,"VAR","Various concepts"],[9,"NEW","New Concepts"]],It=new l(data,Mt,Ut,[]),St=0,_t=0,At="function"==typeof Symbol&&"symbol"==typeof Symbol.Xh?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};String.prototype.eg=function(c){return""==this?[]:this.split(c)};var Rt="dev.scicura.org"==document.URL.split("/")[2],Nt="demo.scicura.org"==document.URL.split("/")[2],Ft="undefined"!=typeof G_vmlCanvasManager,Pt;!function(){Pt=!("placeholder"in document.createElement("input"))}();var jt,Xt,Bt,Dt,Jt;!function(){var x=navigator.userAgent.toLowerCase();jt=x.indexOf("msie")>-1||x.indexOf("trident")>-1||x.indexOf("edge")>-1,Xt=x.indexOf("firefox")>-1,Bt=x.indexOf("chrome")>-1,Dt=x.indexOf("opera")>-1,Jt=!Bt&&x.indexOf("safari")>-1}();var Vt="user-select;-moz-user-select;-khtml-user-select;-webkit-user-select;-o-user-select;-ms-user-select;";Ct.prototype=new Tt;var Wt=0,qt=new function(){this.Yh=null,this.Zh=null,this.$h,this._h,this.ai=!1,this.bi=!0,this.ci=function(){qt.di()},this.ei=function(e){qt.fi(e)},this.gi=null,this.hi=650,this.ii=300,this.ji=200,this.L=function(){var o=this.$h=L("div"),i=this._h=L("div"),a=L("div");et(o,"popupBoxOuter"),et(i,"popupBoxInner"),et(a,"popupBoxArrow"),o.appendChild(a),o.appendChild(i),U(o,"mouseover",function(){qt.ki()}),U(o,"mouseout",this.ci)},this.show=function(h){var n=this.Yh,o=this.$h,e=h();if(!1===e)return void this.hide();this.gi=null,o.style.left=n.offsetLeft+"px",o.style.top=n.offsetTop+n.offsetHeight+"px",this._h.appendChild(e),n.parentNode.appendChild(o),U(document,"keydown",this.ei),this.ai=!0},this.hide=function(){this.gi=null,this.ai&&(this.$h.parentNode.removeChild(this.$h),this.mi(),this.Yh=null,I(document,"keydown",this.ei),this.ai=!1)},this.mi=function(){for(var e=this._h;e.childNodes.length>0;)e.removeChild(e.lastChild)},this.ki=function(){null!==this.gi&&(clearTimeout(this.gi),this.gi=null)},this.ni=function(x){U(2!==x?this.Yh:this.Zh,"mouseout",this.ci)},this.oi=function(x){var e=2!==x?this.Yh:this.Zh;null!==e&&I(e,"mouseout",this.ci)},this.pi=function(h){this.oi(),this.hide(),this.Yh=this.Zh,this.Zh=null,this.show(h)},this.fi=function(e){e=e||window.event,27==e.keyCode&&this.Ef()},this.sg=function(h,n,l){this.bi&&(this.ki(),this.ai?h==this.Yh?this.ni():(this.Zh=h,this.ni(2),this.gi=setTimeout(function(){qt.pi(n)},this.ii)):(this.Yh=h,this.ni(),this.gi=setTimeout(function(){qt.show(n)},void 0!==l?l:this.hi)))},this.di=function(){this.ki(),this.ai?(this.oi(),this.gi=setTimeout(function(){qt.hide()},this.ji)):(null!==this.Yh&&(this.oi(),this.Yh=null),null!==this.Zh&&(this.oi(2),this.Zh=null))},this.Ef=function(){this.ki(),null!==this.Yh&&this.oi(),null!==this.Zh&&this.oi(2),this.ai&&this.hide()},this.qi=function(h){this.mi(),this._h.appendChild(h())},this.ug=function(b){this.bi=b,b||this.Ef()},this.L()},Zt=new function(){this.e=!1,this.ri=[],this.si=null,this.ti=null,this.vi=3e4,this.wi="ttc",this.L=function(){this.xi();var t=this;U(window,"focus",function(e){t.xi()})},this.xi=function(){this.yi()&&this.zi()},this.Ai=function(){var data,h="\t",e=this.e;data=this.ti+h+e.id+h+e.bc+h+e.style+h+e.H+h+e.I+h+e.J+h+(e.Kh?1:0)+h+e.ha,ut(this.wi,data)},this.yi=function(){var a=vt(this.wi);if(!1===a)return!1;a=a.split("\t");var h=a[0]-(new Date).getTime();return h<=0||a.length<9?(this.Bi(),!1):(this.e={id:a[1],bc:a[2],style:a[3],ha:a[8],H:a[4],I:a[5],J:a[6],Kh:1==a[7]},this.Ci(this.ti=h),!0)},this.Bi=function(){mt(this.wi)},this.Di=function(h){this.ri.push(h),!1!==this.e&&h.Ei(!0)},this.Fi=function(h){for(var i=0,n=this.ri.length;i<n;i++)if(this.ri[i]==h){this.ri.splice(i,1);break}},this.zi=function(){for(var b=!1!==this.e,i=0,h=this.ri.length;i<h;i++)this.ri[i].Ei(b)},this.Ih=function(id,h,style,n,l,v,T,Y){this.e={id:id,bc:h,style:style,ha:n,H:l,I:v,J:T,Kh:Y},this.zi(),this.Ci(this.vi),this.Ai()},this.vh=function(){return!1!==this.e},this.Jh=function(){return this.e},this.Nh=function(){this.Gi(),this.e=!1,this.zi(),this.Bi()},this.Ci=function(delay){this.Gi(),this.si=setTimeout(function(){Zt.Nh()},delay),this.ti=(new Date).getTime()+delay},this.Gi=function(){null!==this.si&&(clearTimeout(this.si),this.si=null),this.ti=null},this.Bh=function(){return this.e.Kh},this.L()};